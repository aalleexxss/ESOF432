(this["webpackJsonpcomment-frontend"]=this["webpackJsonpcomment-frontend"]||[]).push([[0],{10:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(22),o=n.n(r),a=(n(10),n(3)),c=n(7),i=n(9),m=n(8),d=n(23),l=n.n(d),p=n.p+"static/media/profile.f58b541a.png",h=n(74),u=n(0),f=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={body:"*Poster did not add a body* (Shame them). This is also my cop out for form validation for now, you caught me.",post_id:"9ba7b1d5-94e0-41bd-a380-e2f953ffe58c",comment_id:Object(h.a)(),parent_id:e.props.parentCommentId,likes:0,poster:Object(h.a)(),poster_name:"*Gasp* the poster did not specify their name",id:"",created_at:"",updated_at:""},e.handleFieldChange=function(t){e.setState({[t.target.name]:t.target.value})},e.createReply=function(){e.props.storeReply(e.state)},e.handleKeypress=function(t){13===t.keyCode&&e.createReply()},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(u.jsx)("h4",{className:"text-center mb-5",children:"Add a Reply"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:Object(u.jsx)("input",{name:"poster_name",onChange:this.handleFieldChange,type:"text",className:"form-control",placeholder:"Name"})}),Object(u.jsx)("textarea",{name:"body",onChange:this.handleFieldChange,onKeyDown:this.handleKeypress,type:"text",className:"form-control reply",placeholder:"Body"})]}),Object(u.jsx)("div",{className:"form-group text-center",children:Object(u.jsx)("button",{onClick:this.createReply,className:"btn btn-success",children:"Post Reply"})})]})})})}}]),n}(s.Component),b=n(5),j=n.n(b),C=n(11),O=n(24),v=n.n(O),y=function e(){var t=this;Object(a.a)(this,e),this.getComments=Object(C.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.http.get("api/comments"));case 1:case"end":return e.stop()}}),e)}))),this.getReplies=function(){var e=Object(C.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.http.get("api/comments/replies/".concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.storeComment=function(){var e=Object(C.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.http.post("api/comments",n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateComment=function(){var e=Object(C.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.http.put("api/comments/edit/".concat(n.id),n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteComment=function(){var e=Object(C.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.http.delete("api/comments/".concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addLike=function(){var e=Object(C.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.http.put("api/comments/likes/".concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.http=v.a.create({baseURL:"https://distributed-amp-309017.wm.r.appspot.com",responseType:"json"})},x=n.p+"static/media/editing.232c79f6.gif",g=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={body:e.props.userInfo.body,post_id:"9ba7b1d5-94e0-41bd-a380-e2f953ffe58c",comment_id:e.props.userInfo.comment_id,parent_id:e.props.userInfo.parent_id,likes:e.props.userInfo.likes,poster:e.props.userInfo.poster,poster_name:e.props.userInfo.poster_name,id:e.props.userInfo.id,created_at:e.props.userInfo.created_at,updated_at:e.props.userInfo.updated_at},e.handleFieldChange=function(t){e.setState({[t.target.name]:t.target.value})},e.createEdit=function(){e.props.storeEdit(e.state)},e.handleKeypress=function(t){13===t.keyCode&&e.createEdit()},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"container edits",children:Object(u.jsx)("div",{className:"card my-3 edits",children:Object(u.jsx)("div",{className:"card-body edits",children:Object(u.jsxs)("div",{className:"cf edits",children:[Object(u.jsx)("img",{src:p,alt:"pic",className:"pic"}),Object(u.jsx)("h2",{className:"card-title",children:this.props.userInfo.poster_name}),Object(u.jsx)("img",{src:x,alt:"",className:"edit-wheel"}),Object(u.jsx)("h5",{children:"Editing"}),Object(u.jsx)("textarea",{className:"edit-box",name:"body",onKeyDown:this.handleKeypress,onChange:this.handleFieldChange,children:this.props.userInfo.body}),Object(u.jsx)("button",{onClick:this.createEdit,className:"btn btn-success float-right",children:"Update Comment"})]})})})})}}]),n}(s.Component),w=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={showEditForm:!1},s.toggleShowEditForm=function(){s.setState({showEditForm:!s.state.showEditForm})},s.storeEdit=function(e){s.apiService.updateComment(e).then((function(){s.props.fetchReplies(),s.toggleShowEditForm()}))},s.apiService=new y,s}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"card my-34",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"cf",children:[Object(u.jsx)("img",{src:p,alt:"pic",className:"pic"}),Object(u.jsx)("h2",{className:"card-title",children:this.props.r.poster_name})]}),Object(u.jsx)("h4",{className:"card-title",children:this.props.r.body}),Object(u.jsxs)("button",{className:"btn-info",style:{fontSize:"18px"},onClick:function(){return e.props.addLike(e.props.r.id)},children:["Likes: ",this.props.r.likes]}),Object(u.jsx)("button",{className:"btn btn-danger float-right btn-sm",style:{fontSize:"18px"},onClick:function(){return e.props.deleteReplies(e.props.r.id)},children:"Delete"}),Object(u.jsx)("button",{className:"btn ".concat(this.state.showEditForm?"btn-danger three":"btn-primary"),onClick:this.toggleShowEditForm,children:this.state.showEditForm?"Cancel":"Edit"})]})}),this.state.showEditForm&&Object(u.jsx)(g,{userInfo:this.props.r,storeEdit:this.storeEdit})]})}}]),n}(s.Component),N=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={replies:[],r:[],showReplyForm:!1,showEditForm:!1},s.fetchReplies=function(){return s.apiService.getComments().then((function(e){var t=e.data;s.setState({replies:t.comments}),s.findReplies()}))},s.storeReply=function(e){s.apiService.storeComment(e).then((function(){s.fetchReplies(),s.toggleShowReplyForm()}))},s.storeEdit=function(e){s.apiService.updateComment(e).then((function(){s.props.fetchComments(),s.toggleShowEditForm()}))},s.toggleShowReplyForm=function(){s.setState({showReplyForm:!s.state.showReplyForm})},s.toggleShowEditForm=function(){s.setState({showEditForm:!s.state.showEditForm})},s.findReplies=function(){for(var e=[],t=0;t<s.state.replies.length;t++)null!==s.state.replies[t].parent_id&&s.props.refinedComments.comment_id===s.state.replies[t].parent_id&&e.push(s.state.replies[t]);s.setState({r:e})},s.deleteReplies=function(e){s.apiService.deleteComment(e).then((function(){s.fetchReplies()}))},s.addLike=function(e){s.apiService.addLike(e).then((function(){s.fetchReplies()}))},s.apiService=new y,s}return Object(c.a)(n,[{key:"componentWillMount",value:function(){this.fetchReplies()}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"card my-3",children:Object(u.jsxs)("div",{className:"card-body small",children:[Object(u.jsxs)("div",{className:"cf",children:[Object(u.jsx)("img",{src:p,alt:"pic",className:"pic"}),Object(u.jsx)("h2",{className:"card-title",children:this.props.refinedComments.poster_name})]}),Object(u.jsx)("h4",{className:"card-title",children:this.props.refinedComments.body}),Object(u.jsx)("button",{className:"btn ".concat(this.state.showReplyForm?"btn-danger two":"btn-warning"),onClick:this.toggleShowReplyForm,children:this.state.showReplyForm?"Cancel":"Reply"}),Object(u.jsxs)("button",{className:"btn-info float-left btn-sm",style:{fontSize:"18px"},onClick:function(){return e.props.addLike(e.props.refinedComments.id)},children:["Likes: ",this.props.refinedComments.likes]}),Object(u.jsx)("button",{className:"btn btn-danger float-right btn-sm",style:{fontSize:"18px"},onClick:function(){return e.props.deleteComment(e.props.refinedComments.id)},children:"Delete"}),Object(u.jsx)("button",{className:"btn ".concat(this.state.showEditForm?"btn-danger three":"btn-primary"),onClick:this.toggleShowEditForm,children:this.state.showEditForm?"Cancel":"Edit"})]})}),this.state.showEditForm&&Object(u.jsx)(g,{userInfo:this.props.refinedComments,storeEdit:this.storeEdit}),this.state.showReplyForm&&Object(u.jsx)(f,{storeReply:this.storeReply,parentCommentId:this.props.refinedComments.comment_id}),this.state.r.map((function(t){return Object(u.jsx)(w,{deleteReplies:e.deleteReplies,fetchReplies:e.fetchReplies,addLike:e.addLike,r:t},t.comment_id)}))]})}}]),n}(s.Component),k=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={body:"*Poster did not add a body* (Shame them). This is also my cop out for form validation for now, you caught me.",post_id:"9ba7b1d5-94e0-41bd-a380-e2f953ffe58c",comment_id:Object(h.a)(),parent_id:"",likes:0,poster:Object(h.a)(),poster_name:"*Gasp* the poster did not specify their name",id:"",created_at:"",updated_at:""},e.handleFieldChange=function(t){e.setState({[t.target.name]:t.target.value})},e.createComment=function(){e.props.storeComment(e.state)},e.handleKeypress=function(t){13===t.keyCode&&e.createComment()},e}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(u.jsx)("h4",{className:"text-center mb-5",children:"Add new Comment"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:Object(u.jsx)("input",{name:"poster_name",onChange:this.handleFieldChange,type:"text",className:"form-control",placeholder:"Name"})}),Object(u.jsx)("textarea",{name:"body",onChange:this.handleFieldChange,type:"text",className:"form-control body",placeholder:"Body"})]}),Object(u.jsx)("div",{className:"form-group text-center",children:Object(u.jsx)("button",{onClick:this.createComment,className:"btn btn-success",children:"Post Comment"})})]})})})}}]),n}(s.Component),F=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={comments:[],refinedComments:[],showCreateCommentForm:!1},s.refineComments=function(e){for(var t=[],n=0;n<e.length;n++)null===e[n].parent_id&&t.push(e[n]);s.setState({refinedComments:t})},s.fetchComments=function(){return s.apiService.getComments().then((function(e){var t=e.data;s.setState({comments:t.comments}),s.refineComments(s.state.comments)}))},s.storeComment=function(e){s.apiService.storeComment(e).then((function(){s.fetchComments(),s.toggleShowCreateCommentForm()}))},s.deleteComment=function(e){s.apiService.deleteComment(e).then((function(){s.fetchComments()}))},s.addLike=function(e){s.apiService.addLike(e).then((function(){s.fetchComments()}))},s.toggleShowCreateCommentForm=function(){s.setState({showCreateCommentForm:!s.state.showCreateCommentForm})},s.apiService=new y,s}return Object(c.a)(n,[{key:"componentWillMount",value:function(){this.fetchComments()}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("br",{}),Object(u.jsx)(l.a,{className:"vid",url:"https://www.youtube.com/watch?v=EL-D9LrFJd4"}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"text-center mb-5",children:Object(u.jsx)("button",{className:"btn ".concat(this.state.showCreateCommentForm?"btn-danger":"btn-info"),onClick:this.toggleShowCreateCommentForm,children:this.state.showCreateCommentForm?"Cancel":"Add Comment"})}),this.state.showCreateCommentForm&&Object(u.jsx)(k,{storeComment:this.storeComment,users:this.state.users}),this.state.refinedComments.map((function(t){return Object(u.jsx)(N,{deleteComment:e.deleteComment,addLike:e.addLike,refinedComments:t,fetchComments:e.fetchComments},t.comment_id)}))]})}}]),n}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(u.jsx)(F,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[73,1,2]]]);
//# sourceMappingURL=main.ccd68fe6.chunk.js.map