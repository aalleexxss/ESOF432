"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e,r=require("theme-ui"),o=require("@emotion/core"),i=require("humps");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return(u=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&c(o,n.prototype),o}).apply(null,arguments)}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c(n,e)})(e)}function d(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var f=function(e){var t,n;function r(t,n,r){var o;return(o=e.call(this,"Failed API request to "+t+" with status "+r.status)||this).requestInfo=t,o.requestInit=n,o.response=r,o}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(m(Error)),p=function(){return(new Date).getTime()},h=function(){function e(e){this.client=e}var t=e.prototype;return t.press=function(e){var t=e.id,n=e.namespace;return this.client.put(n?"/like-buttons/"+n+"/"+t+"/press":"/like-buttons/"+t+"/press","press")},t.info=function(e){var t=e.id,n=e.namespace;return this.client.enqueueToBatch(n?"/like-buttons/"+n+"/"+t:"/like-buttons/"+t)},e}(),b=function(){function e(e){this.client=e}var t=e.prototype;return t.press=function(e){var t=e.id,n=e.namespace;return this.client.put(n?"/clap-buttons/"+n+"/"+t+"/press":"/clap-buttons/"+t+"/press","press")},t.info=function(e){var t=e.id,n=e.namespace;return this.client.enqueueToBatch(n?"/clap-buttons/"+n+"/"+t:"/clap-buttons/"+t)},e}(),v=function(){function e(e){this.client=e}var t=e.prototype;return t.info=function(e){var t=e.id,n=e.namespace;return this.client.enqueueToBatch(n?"/updown-buttons/"+n+"/"+t:"/updown-buttons/"+t)},t.pressUp=function(e){var t=e.id,n=e.namespace;return this.client.put(n?"/updown-buttons/"+n+"/"+t+"/press-up":"/updown-buttons/"+t+"/press-up","pressUp")},t.pressDown=function(e){var t=e.id,n=e.namespace;return this.client.put(n?"/updown-buttons/"+n+"/"+t+"/press-down":"/updown-buttons/"+t+"/press-down","pressDown")},e}(),y=function(){function e(e){var t,n,r,o,i,a,s=e.recaptchaSiteKey,c=e.baseUrl,l=e.disableSessionId;this.apiKey=e.apiKey,this.recaptchaSiteKey=s,this.disableSessionId=l,this.baseUrl=c||"https://api.lyket.dev",this.likeButtons=new h(this),this.clapButtons=new b(this),this.updownButtons=new v(this),this.enqueueToBatch=(t=this.batch.bind(this),o=function e(){try{var o=p()-r,s=function(){if(!(o<500&&o>0))return n=null,Promise.resolve(function(){try{return Promise.resolve(t.call(null,i)).then((function(e){for(var t=0;t<e.length;t++)a[t].resolve(e[t])}))}catch(e){return Promise.reject(e)}}()).then((function(){n||(i=[],a=[])}));n=setTimeout(e,500-o)}();return Promise.resolve(s&&s.then?s.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},i=[],a=[],function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return i.push(t),r=p(),n||(n=setTimeout(o,500)),new Promise((function(e,t){a.push({resolve:e,reject:t})}))})}var t=e.prototype;return t.get=function(e){return this.request(e)},t.batch=function(e){try{return Promise.resolve(this.request("/buttons/batch",{method:"POST",body:{type:"batch",data:{attributes:{urls:e.map((function(e){return e[0]}))}}}})).then((function(e){return e.data.attributes.responses}))}catch(e){return Promise.reject(e)}},t.put=function(e,t){return this.request(e,{method:"PUT",recaptchaAction:t})},t.request=function(e,t){try{var n=function(){var n=r.baseUrl+"/v1"+e,i=t?a({},t,{headers:a({},o,t.headers),body:t.body&&JSON.stringify(t.body)}):{headers:o};return Promise.resolve(fetch(n,i)).then((function(e){if(e.status<200||e.status>=300)throw new f(n,i,e);return e.json()}))},r=this;if("undefined"==typeof window)throw"Client is supposed to be used client-side only!";var o={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+r.apiKey};r.disableSessionId||(o["x-session-id"]=function(){if("undefined"==typeof window)throw new Error("Session ID cannot be generated server-side!");var e=window.localStorage.getItem("sessionId");e&&(window.localStorage.setItem("lyket-session-id",e),window.localStorage.removeItem("sessionId"));var t=window.localStorage.getItem("lyket-session-id");if(t)return t;var n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return window.localStorage.setItem("lyket-session-id",n),n}());var i=function(){if(r.recaptchaSiteKey&&t&&t.recaptchaAction)return Promise.resolve((e=r.recaptchaSiteKey,n=t.recaptchaAction,(i="https://www.google.com/recaptcha/api.js?render="+e,void 0===a&&(a={}),new Promise((function(e,t){var n=a.async,r=a.integrity,o=a.type,s=document.querySelector('script[src="'+i+'"]');if(s)e(s);else{var c=document.createElement("script");c.src=i,n&&c.setAttribute("async","true"),r&&c.setAttribute("integrity",r),o&&c.setAttribute("type",o),c.onload=function(){return e(c)},c.onerror=function(e){return t(e)},document.body.appendChild(c)}}))).then((function(){return new Promise((function(t,r){grecaptcha.ready((function(){try{var o=d((function(){return Promise.resolve(grecaptcha.execute(e,{action:n})).then((function(e){t(e)}))}),(function(e){console.error("recaptcha error!",e),r(e)}));return Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}))}))})))).then((function(e){o["x-recaptcha-token"]=e}));var e,n,i,a}();return Promise.resolve(i&&i.then?i.then(n):n())}catch(e){return Promise.reject(e)}},e}(),g=n.createContext(null),x={background:"transparent",text:"#292929",primary:"#BFFCED",secondary:"#FBDEFB",highlight:"#e095ed"},w={body:"inherit"},k={},j=function(e){var t=JSON.stringify(e);if(k[t])return k[t];var n=new y(e);return k[t]=n,n},C=function(e,n){var r=t.useState()[1];return t.useEffect((function(){!function(){try{var t=d((function(){return Promise.resolve(e()).then((function(){}))}),(function(e){r((function(){throw e}))}));Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}()}),n)},P=function(e){return n.createElement("svg",{viewBox:"0 0 29 29","aria-label":"clap",className:e.className},n.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),n.createElement("path",{d:"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"}))},S={root:{color:"inherit",fontFamily:"inherit",display:"inline-flex",alignItems:"center"},counter:{ml:".5em",color:"text",fontWeight:"body",fontFamily:"body"},icon:{height:"2em",display:"block",margin:"0 auto",fill:"text"},ring:{opacity:"0",width:"90%",height:"90%",borderRadius:"3em",border:"1px solid",borderColor:"highlight",boxSizing:"border-box",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},button:{border:"none",outline:"none",cursor:"pointer",background:"transparent",appearance:"none",position:"relative",fontSize:"inherit",borderRadius:"100%",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",width:"3em",height:"3em",padding:"0",lineHeight:"1em"},baloon:{opacity:"0",position:"absolute",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontSize:".8em",height:"3.4em",width:"3.4em",display:"flex",justifyContent:"center",alignItems:"center",color:"white",backgroundColor:"text",borderRadius:"100%",top:"-3em",left:"-1.7em"},centeredContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},z={buttons:{inactive:{transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"background"},active:{backgroundColor:"primary"}}},L=o.keyframes({"0%":{opacity:"0",transform:"translateY(-1em)"},"72%":{opacity:"1",transform:"translateY(-4em)"},"100%":{opacity:"0",transform:"translateY(-6em)"}}),I=o.keyframes({"0%":{transform:"scale(0)"},"52%":{transform:"scale(1.2)"},"72%":{transform:"scale(0.9)"},"100%":{transform:"scale(1)"}}),E=o.keyframes({"0%":{opacity:"1",borderWidth:"0.5em"},"52%":{opacity:"0",borderWidth:"0"}}),T=function(e){var n=e.isLoading,o=e.userClaps,i=e.totalClaps,s=e.handlePress,c=e.isCounterVisible,l=t.useState(!1),u=l[0],m=l[1],d=t.useRef(null),f=t.useCallback((function(e){m(!0),d.current&&clearTimeout(d.current),d.current=setTimeout((function(){return m(!1)}),800),s(e)}),[s]),p=a({},S.ring,{animation:u?E+" 600ms ease forwards":null});return r.jsx(r.ThemeProvider,{theme:z},r.jsx("div",{sx:S.root},r.jsx("button",{onClick:f,sx:a({},S.button,{variant:o?"buttons.active":"buttons.inactive","@media (hover: hover)":{":hover":{variant:"buttons.active"}}}),disabled:n},r.jsx("div",{sx:S.centeredContainer},r.jsx("div",{key:d.current&&d.current.toString(),sx:a({},S.baloon,{animation:u?L+" 800ms ease forwards":null})},o)),r.jsx("div",{sx:p}),r.jsx(P,{sx:a({},S.icon,{animation:u?I+" 500ms ease forwards":null})})),c&&r.jsx("div",{sx:S.counter},i)))},M=function(e){return n.createElement("svg",{viewBox:"0 0 33 33","aria-label":"clap",className:e.className},n.createElement("path",{d:"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z",fillRule:"evenodd"}))},B=function(e){return n.createElement("svg",{viewBox:"0 0 29 29","aria-label":"clap",className:e.className},n.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),n.createElement("path",{d:"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"}))},A={root:{color:"inherit",fontFamily:"inherit",display:"inline-flex",alignItems:"center"},counter:{ml:".2em"},button:{border:"none",outline:"none",cursor:"pointer",background:"transparent",appearance:"none",position:"relative",fontSize:"inherit",p:0,"@media (hover: hover)":{":hover":{svg:{transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",transform:"scale(1.1)"}},":active":{svg:{transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",transform:"scale(1.1)"}}}},baloon:{opacity:"0",position:"absolute",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",fontSize:".8em",height:"3.4em",width:"3.4em",display:"flex",justifyContent:"center",alignItems:"center",color:"white",background:"#292929",borderRadius:"100%",top:"-3em",left:"-1.7em"},centeredContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},R=o.keyframes({"0%":{opacity:"0",transform:"translateY(-1em)"},"72%":{opacity:"1",transform:"translateY(-4em)"},"100%":{opacity:"0",transform:"translateY(-6em)"}}),_=o.keyframes({"0%":{opacity:"0",transform:"translateY(-0.5em) scale(1)"},"32%":{opacity:"1",transform:"translateY(-1em) scale(1.3)"},"100%":{opacity:"0",transform:"translateY(-2em) scale(1.6)"}}),O=R,D=o.keyframes({"0%":{transform:"scale(1)"},"32%":{transform:"scale(1.15)"},"100%":{transform:"scale(1.1)"}}),K=function(e){var r=e.id,o=e.namespace,a=e.hideCounterIfLessThan,s=e.children,c=e.component,l=e.onLoad,u=e.onPress,m=t.useContext(g),f=t.useState(null),p=f[0],h=f[1];C((function(){try{return Promise.resolve(d((function(){var e=function(){if(m)return Promise.resolve(m.clapButtons.info({id:r,namespace:o})).then((function(e){h(e.data),l&&l(i.camelizeKeys(e.data))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){throw console.error("Lyket error:",e),e})))}catch(e){return Promise.reject(e)}}),[m,r,o]);var b=t.useCallback((function(e){try{return e.preventDefault(),Promise.resolve(d((function(){var e=function(){if(m)return Promise.resolve(m.clapButtons.press({id:r,namespace:o})).then((function(e){h(e.data),u&&u(i.camelizeKeys(e.data))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){throw console.error("Lyket error:",e),e})))}catch(e){return Promise.reject(e)}}),[m,r,o]),v=!0;(!p||a&&p&&p.attributes.total_claps<a)&&(v=!1);var y={isLoading:!p,totalClaps:p&&p.attributes.total_claps||0,userClaps:p&&p.attributes.user_claps||0,handlePress:b,isCounterVisible:v};return s?s(y):n.createElement(c||T,Object.assign({},y))};K.templates={Simple:T,Medium:function(e){for(var n=e.isLoading,o=e.userClaps,i=e.totalClaps,s=e.handlePress,c=e.isCounterVisible,l=t.useState(!1),u=l[0],m=l[1],d=[],f=0;f<5;f++)d.push(r.jsx("div",{key:f,sx:{transform:"rotate("+72*f+"deg)",transformOrigin:"0.2em 0",marginLeft:"-0.2em"}},r.jsx("div",{sx:{width:"0",height:"0",opacity:"0",borderLeft:"0.2em solid transparent",borderRight:"0.2em solid transparent",borderTop:"0.2em solid #ff365e",position:"absolute",animation:u?_+" 300ms ease forwards":null}})));for(var p=[],h=0;h<5;h++)p.push(r.jsx("div",{key:h,sx:{transform:"rotate("+72*h+"deg)",transformOrigin:"0.05em 0",marginLeft:"-0.05em"}},r.jsx("div",{sx:{width:"0",height:"0",opacity:"0",padding:"0.05em",backgroundColor:"#4086ff",borderRadius:"100%",position:"absolute",animation:u?_+" 500ms ease forwards":null}})));var b=t.useRef(null),v=t.useCallback((function(e){m(!0),b.current&&clearTimeout(b.current),b.current=setTimeout((function(){return m(!1)}),800),s(e)}),[s]),y=o&&o>0?B:M;return r.jsx("div",{sx:A.root},r.jsx("button",{onClick:v,sx:A.button,disabled:n},r.jsx("div",{sx:A.centeredContainer}," ",d," "),r.jsx("div",{sx:A.centeredContainer}," ",p," "),r.jsx("div",{sx:A.centeredContainer},r.jsx("div",{key:b.current&&b.current.toString(),sx:a({},A.baloon,{animation:u?O+" 800ms ease forwards":null})},o)),r.jsx(y,{sx:{fill:n?"#aaa":"auto",height:"3em",transition:"all 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",animation:u?D+" 500ms ease forwards":null}})),c&&r.jsx("div",{sx:A.counter},i))}};var F=function(e){return n.createElement("svg",{id:"ThumUpWiki",viewBox:"0 0 215.34 215.34",className:e.className},n.createElement("path",{d:"M7.67,93.896h52.077V215.34H7.67V93.896z M207.67,106.682c-7.189-7.189-14.382-14.379-21.572-21.57h-41.451l9.877-25.102  l2.801-7.119l-0.258-2.049L151,2.33L121.115,0L110.15,37.822L80.954,85.176V215.34h107.89L207.67,106.682z"}))},N={root:{color:"inherit",fontFamily:"inherit",display:"inline-flex",alignItems:"center"},counter:{ml:".5em",color:"text",fontFamily:"body",fontWeight:"body"},icon:{height:"1em",display:"block",margin:"0 auto",fill:"text"},ring:{opacity:"0",width:"90%",height:"90%",borderRadius:"3em",border:"1px solid",borderColor:"highlight",boxSizing:"border-box",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},button:{border:"none",outline:"none",cursor:"pointer",background:"transparent",appearance:"none",position:"relative",fontSize:"inherit",borderRadius:"100%",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",width:"3em",height:"3em",padding:"0",lineHeight:"1em"}},V={buttons:{inactive:{backgroundColor:"background"},active:{transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"primary"}}},q=o.keyframes({"0%":{transform:"scale(0)"},"52%":{transform:"scale(1.2)"},"72%":{transform:"scale(0.9)"},"100%":{transform:"scale(1)"}}),U=o.keyframes({"0%":{opacity:"1",borderWidth:"0.5em"},"52%":{opacity:"0",borderWidth:"0"}}),W=q,Y=function(e){var n=e.isLoading,o=e.userLiked,i=e.totalLikes,s=e.handlePress,c=e.isCounterVisible,l=t.useState(!1),u=l[0],m=l[1],d=t.useCallback((function(e){s(e),o||(m(!0),setTimeout((function(){return m(!1)}),700))}),[o,s]),f=a({},N.icon,{animation:u?W+" 700ms ease forwards":null}),p=a({},N.ring,{animation:u?U+" 600ms ease forwards":null});return r.jsx(r.ThemeProvider,{theme:V},r.jsx("div",{sx:N.root},r.jsx("button",{onClick:d,disabled:n,sx:a({},N.button,{variant:o?"buttons.active":"buttons.inactive","@media (hover: hover)":{":hover":{variant:"buttons.active"}}})},r.jsx("div",{sx:p}),r.jsx(F,{sx:f})),c&&r.jsx("div",{sx:N.counter},i)))},H=function(e){return n.createElement("svg",{viewBox:"0 0 24 24",className:e.className},n.createElement("g",null,n.createElement("path",{d:"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z"})))},G=function(e){return n.createElement("svg",{viewBox:"0 0 24 24",className:e.className},n.createElement("g",null,n.createElement("path",{d:"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z"})))},J={root:{color:"inherit",fontFamily:"inherit",display:"inline-flex",alignItems:"center"},counter:{ml:".2em"},button:{border:"none",outline:"none",cursor:"pointer",background:"transparent",appearance:"none",position:"relative",fontSize:"inherit",borderRadius:"100%",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",width:"3em",height:"3em",padding:"0",lineHeight:"1em","@media (hover: hover)":{":hover":{transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"#E5214A20"}}},dotsRotContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},dotsContainer:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(165deg)"},ring:{opacity:"0",width:"90%",height:"90%",borderRadius:"3em",boxSizing:"border-box",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},icon:{height:"2em",display:"block",margin:"0 auto",animationTimingFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)"}},Q=o.keyframes({"0%":{opacity:"0",transform:"translateY(-0.5em) scale(1)"},"52%":{opacity:"1",transform:"translateY(-1.6em) scale(1.3)"},"100%":{transform:"translateY(-2.7em) scale(0)"}}),X=o.keyframes({"0%":{transform:"scale(0)"},"52%":{transform:"scale(1.2)"},"72%":{transform:"scale(0.9)"},"100%":{transform:"scale(1)"}}),Z=["lightcoral","yellow","pink","lightseagreen","orange","aliceblue"],$=o.keyframes({"0%":{opacity:"1",borderWidth:"0.5em"},"52%":{opacity:"0",borderWidth:"0"}}),ee=X,te=function(e){var r=e.id,o=e.namespace,a=e.hideCounterIfLessThan,s=e.children,c=e.component,l=e.onLoad,u=e.onPress,m=t.useContext(g),f=t.useState(null),p=f[0],h=f[1];C((function(){try{return Promise.resolve(d((function(){var e=function(){if(m)return Promise.resolve(m.likeButtons.info({id:r,namespace:o})).then((function(e){h(e.data),l&&l(i.camelizeKeys(e.data))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){throw console.error("Lyket error:",e),e})))}catch(e){return Promise.reject(e)}}),[m,r,o,l]);var b=t.useCallback((function(e){try{return e.preventDefault(),m?Promise.resolve(d((function(){return Promise.resolve(m.likeButtons.press({id:r,namespace:o})).then((function(e){h(e.data),u&&u(i.camelizeKeys(e.data))}))}),(function(e){throw console.error("Lyket error:",e),e}))):Promise.resolve()}catch(e){return Promise.reject(e)}}),[m,r,o,u]),v=!0;(!p||a&&p&&p.attributes.total_likes<a)&&(v=!1);var y={isLoading:!p,totalLikes:p&&p.attributes.total_likes||0,userLiked:p&&p.attributes.user_has_liked||!1,handlePress:b,isCounterVisible:v};return s?s(y):n.createElement(c||Y,Object.assign({},y))};te.templates={Simple:Y,Twitter:function(e){for(var n=e.isLoading,o=e.userLiked,i=e.totalLikes,s=e.handlePress,c=e.isCounterVisible,l=t.useState(!1),u=l[0],m=l[1],d=[],f=0;f<6;f++)d.push(r.jsx("div",{key:f,sx:{transform:"rotate("+60*f+"deg)",transformOrigin:"0.2em 0",marginLeft:"-0.2em"}},r.jsx("div",{sx:{opacity:"0",width:"0.2em",height:"0.2em",borderRadius:"0.2em",backgroundColor:""+Z[f],position:"absolute",animation:u?Q+" 600ms ease forwards":null}})));var p=r.jsx("div",{sx:a({},J.ring,{border:"1px solid #e095ed",animation:u?$+" 600ms ease forwards":null})}),h=t.useCallback((function(e){o||(m(!0),setTimeout((function(){return m(!1)}),600)),s(e)}),[o,s]),b=o?H:G;return r.jsx("div",{sx:J.root},r.jsx("button",{onClick:h,sx:J.button,disabled:n},r.jsx("div",{sx:J.dotsContainer}," ",d," "),r.jsx("div",{sx:J.dotsRotContainer}," ",d," "),p,r.jsx(b,{sx:a({},J.icon,{fill:n?"#aaa":"#E5214A",animation:u?ee+" 700ms ease forwards":null})})),c&&r.jsx("div",{sx:J.counter},i))}};var ne=function(e){return n.createElement("svg",{viewBox:"0 0 215.34 215.34",className:e.className},n.createElement("path",{d:"M7.67,93.896h52.077V215.34H7.67V93.896z M207.67,106.682c-7.189-7.189-14.382-14.379-21.572-21.57h-41.451l9.877-25.102  l2.801-7.119l-0.258-2.049L151,2.33L121.115,0L110.15,37.822L80.954,85.176V215.34h107.89L207.67,106.682z"}))},re={root:{color:"inherit",fontFamily:"inherit",display:"inline-flex",alignItems:"center"},counter:{ml:".5em",mr:".5em",minWidth:"2em",color:"text",textAlign:"center",fontFamily:"body",fontWeight:"body"},icon:{height:"1em",display:"block",margin:"0 auto",fill:"text"},ring:{opacity:"0",width:"90%",height:"90%",borderRadius:"3em",border:"1px solid",borderColor:"highlight",boxSizing:"border-box",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},button:{border:"none",outline:"none",cursor:"pointer",background:"transparent",appearance:"none",position:"relative",fontSize:"inherit",borderRadius:"100%",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",width:"3em",height:"3em",padding:"0",lineHeight:"1em"}},oe={buttons:{upInactive:{backgroundColor:"background"},upActive:{backgroundColor:"primary",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},downInactive:{backgroundColor:"background"},downActive:{transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"secondary"}}},ie=o.keyframes({"0%":{transform:"scale(0)"},"52%":{transform:"scale(1.2)"},"72%":{transform:"scale(0.9)"},"100%":{transform:"scale(1)"}}),ae=o.keyframes({"0%":{opacity:"1",borderWidth:"0.5em"},"52%":{opacity:"0",borderWidth:"0"}}),se=ie,ce=function(e){var n=e.isLoading,o=e.userVoteDirection,i=e.totalScore,s=e.handlePressUp,c=e.handlePressDown,l=e.isCounterVisible,u=t.useState(!1),m=u[0],d=u[1],f=t.useState(!1),p=f[0],h=f[1],b=t.useCallback((function(e){s(e),1!==o&&(d(!0),setTimeout((function(){return d(!1)}),700))}),[o,s]),v=t.useCallback((function(e){c(e),-1!==o&&(h(!0),setTimeout((function(){return h(!1)}),700))}),[o,c]),y=a({},re.icon,{animation:m?se+" 700ms ease forwards":null}),g=a({},re.icon,{animation:p?se+" 700ms ease forwards":null}),x=a({},re.ring,{animation:m?ae+" 600ms ease forwards":null}),w=a({},re.ring,{animation:p?ae+" 600ms ease forwards":null});return r.jsx(r.ThemeProvider,{theme:oe},r.jsx("div",{sx:re.root},r.jsx("button",{onClick:b,disabled:n,sx:a({},re.button,{variant:1===o?"buttons.upActive":"buttons.upInactive","@media (hover: hover)":{":hover":{variant:"buttons.upActive"}}})},r.jsx("div",{sx:x}),r.jsx(ne,{sx:y})),l&&r.jsx("div",{sx:re.counter},i),n&&r.jsx("div",{sx:re.counter},"-"),r.jsx("button",{onClick:v,disabled:n,sx:a({},re.button,{transform:"rotate(180deg)",variant:-1===o?"buttons.downActive":"buttons.downInactive","@media (hover: hover)":{":hover":{variant:"buttons.downActive"}}})},r.jsx("div",{sx:w}),r.jsx(ne,{sx:g}))))},le=function(e){return n.createElement("svg",{version:"1.0",viewBox:"0 0 1280 1280",className:e.className,preserveAspectRatio:"xMidYMid meet"},n.createElement("g",{transform:"translate(0,1280) scale(0.100000,-0.100000)",stroke:"none"},n.createElement("path",{d:"M6245 12778 c-200 -44 -333 -117 -494 -272 -53 -51 -1149 -1102\n  -2436 -2336 -3028 -2904 -3071 -2945 -3122 -3010 -133 -170 -219 -465 -183\n  -629 35 -159 45 -192 80 -267 50 -109 104 -185 187 -265 83 -81 140 -119 246\n  -169 175 -81 33 -74 1677 -77 1359 -3 1466 -4 1478 -20 9 -13 12 -527 12\n  -2487 0 -2658 -2 -2524 50 -2663 84 -226 259 -410 479 -503 40 -17 123 -42\n  184 -56 l112 -24 1905 3 c1897 2 1905 2 1995 23 173 41 319 120 439 238 104\n  102 171 212 222 366 l29 85 5 2507 c3 1701 8 2510 15 2517 7 7 487 12 1475 13\n  1644 4 1502 -3 1677 78 104 48 161 88 247 169 137 131 213 277 256 491 25 119\n  25 151 0 270 -32 159 -75 262 -155 375 -53 75 -26 49 -3010 2910 -1353 1297\n  -2506 2402 -2561 2456 -169 163 -299 234 -509 278 -119 25 -181 25 -300 -1z"})))},ue={root:{color:"inherit",fontFamily:"inherit",display:"inline-flex",alignItems:"center",flexDirection:"column"},counter:{mt:".2em",mb:".2em",minWidth:"2em",textAlign:"center"},icon:{height:"1em",display:"block",margin:"0 auto",animationTimingFunction:"cubic-bezier(0.280, 0.840, 0.420, 1)"},button:{border:"none",outline:"none",cursor:"pointer",background:"transparent",appearance:"none",position:"relative",fontSize:"inherit",borderRadius:"3px",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",width:"2em",height:"2em",padding:"0",lineHeight:"1em"}},me={colors:{lightGray:"#25252510",darkGray:"#878a8c",blue:"#5a75cc",red:"#cc3700"},buttons:{downInactive:{svg:{fill:"darkGray"}},upInactive:{svg:{fill:"darkGray"}},upActive:{backgroundColor:"lightGray",svg:{fill:"red"}},downActive:{backgroundColor:"lightGray",svg:{fill:"blue"}}}},de=o.keyframes({"0%":{transform:"scale(0)"},"52%":{transform:"scale(1.2)"},"72%":{transform:"scale(0.9)"},"100%":{transform:"scale(1)"}}),fe=function(e){var r=e.id,o=e.namespace,a=e.hideCounterIfLessThan,s=e.children,c=e.component,l=e.onLoad,u=e.onPressUp,m=e.onPressDown,f=t.useContext(g),p=t.useState(null),h=p[0],b=p[1];C((function(){try{return Promise.resolve(d((function(){var e=function(){if(f)return Promise.resolve(f.updownButtons.info({id:r,namespace:o})).then((function(e){b(e.data),l&&l(i.camelizeKeys(e.data))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){throw console.error("Lyket error:",e),e})))}catch(e){return Promise.reject(e)}}),[f,r,o,l]);var v=t.useCallback((function(e){try{return e.preventDefault(),Promise.resolve(d((function(){var e=function(){if(f)return Promise.resolve(f.updownButtons.pressUp({id:r,namespace:o})).then((function(e){b(e.data),u&&u(i.camelizeKeys(e.data))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){throw console.error("Lyket error:",e),e})))}catch(e){return Promise.reject(e)}}),[f,r,o,u]),y=t.useCallback((function(e){try{return e.preventDefault(),Promise.resolve(d((function(){var e=function(){if(f)return Promise.resolve(f.updownButtons.pressDown({id:r,namespace:o})).then((function(e){b(e.data),m&&m(i.camelizeKeys(e.data))}))}();if(e&&e.then)return e.then((function(){}))}),(function(e){throw console.error("Lyket error:",e),e})))}catch(e){return Promise.reject(e)}}),[f,r,o,m]),x=!0;(!h||a&&h&&h.attributes.total_score<a)&&(x=!1);var w={isLoading:!h,totalScore:h&&h.attributes.total_score||0,userVoteDirection:h&&h.attributes.user_vote_direction||0,handlePressUp:v,handlePressDown:y,isCounterVisible:x};return s?s(w):n.createElement(c||ce,Object.assign({},w))};fe.templates={Simple:ce,Reddit:function(e){var n=e.isLoading,o=e.userVoteDirection,i=e.totalScore,s=e.handlePressUp,c=e.handlePressDown,l=e.isCounterVisible,u=t.useState(!1),m=u[0],d=u[1],f=t.useState(!1),p=f[0],h=f[1],b=t.useCallback((function(e){s(e),1!==o&&(d(!0),setTimeout((function(){return d(!1)}),700))}),[o,s]),v=t.useCallback((function(e){c(e),-1!==o&&(h(!0),setTimeout((function(){return h(!1)}),700))}),[o,c]),y=a({},ue.icon,{animation:m?de+" 700ms ease forwards":null}),g=a({},ue.icon,{animation:p?de+" 700ms ease forwards":null});return r.jsx(r.ThemeProvider,{theme:me},r.jsx("div",{sx:ue.root},r.jsx("button",{onClick:b,disabled:n,sx:a({},ue.button,{variant:1===o?"buttons.upActive":"buttons.upInactive","@media (hover: hover)":{":hover":{variant:"buttons.upActive",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}}})},r.jsx(le,{sx:y})),l&&r.jsx("div",{sx:ue.counter},i),n&&r.jsx("div",{sx:ue.counter},"-"),r.jsx("button",{onClick:v,disabled:n,sx:a({},ue.button,{transform:"rotate(180deg)",variant:-1===o?"buttons.downActive":"buttons.downInactive","@media (hover: hover)":{":hover":{variant:"buttons.downActive",transition:"all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}}})},r.jsx(le,{sx:g}))))}},exports.ClapButton=K,exports.Client=y,exports.LikeButton=te,exports.Provider=function(e){var n=e.apiKey,o=e.recaptchaSiteKey,i=e.disableSessionId,s=e.baseUrl,c=e.children,l=e.theme,u=t.useState(j({apiKey:n,recaptchaSiteKey:o,disableSessionId:i,baseUrl:s})),m=u[0],d=u[1];t.useEffect((function(){d(j({apiKey:n,recaptchaSiteKey:o,disableSessionId:i,baseUrl:s}))}),[n,i,o,s]);var f=l||{colors:{},fonts:{}},p=a({},x,f.colors),h=a({},w,f.fonts);return r.jsx(r.ThemeProvider,{theme:{useBodyStyles:!1,useLocalStorage:!1,colors:p,fonts:h,styles:{}}},r.jsx(g.Provider,{value:m},c))},exports.UpdownButton=fe;
//# sourceMappingURL=react.cjs.production.min.js.map
