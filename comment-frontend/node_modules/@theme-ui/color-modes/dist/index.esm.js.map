{"version":3,"file":"index.esm.js","sources":["../src/custom-properties.ts","../src/index.tsx"],"sourcesContent":["import { css, get, Theme, __internalGetUseRootStyles } from '@theme-ui/css'\n\nconst stripKeyDefault = (key: string) => key.replace('-__default', '')\nconst toVarName = (key: string) => `--theme-ui-${stripKeyDefault(key)}`\nconst toVarValue = (key: string, value: string | number) =>\n  `var(${toVarName(key)}, ${value})`\n\nconst join = (...args: (string | undefined)[]) => args.filter(Boolean).join('-')\n\nconst numberScales = {\n  fontWeights: true,\n  lineHeights: true,\n}\nconst reservedKeys = {\n  useCustomProperties: true,\n  initialColorModeName: true,\n  printColorModeName: true,\n  initialColorMode: true,\n  useLocalStorage: true,\n}\n\nconst toPixel = (key: string, value: string | number) => {\n  if (typeof value !== 'number') return value\n  if (numberScales[key as keyof typeof numberScales]) return value\n  return value + 'px'\n}\n\n// convert theme values to custom properties\nexport const toCustomProperties = (\n  obj: Record<string, any> | undefined,\n  parent?: string,\n  themeKey?: string\n) => {\n  const next: Record<string, any> = Array.isArray(obj) ? [] : {}\n\n  for (let key in obj) {\n    const value = obj[key]\n    const name = join(parent, key)\n    if (value && typeof value === 'object') {\n      next[key] = toCustomProperties(value, name, key)\n      continue\n    }\n    if (reservedKeys[key as keyof typeof reservedKeys]) {\n      next[key] = value\n      continue\n    }\n    const val = toPixel(themeKey || key, value)\n    next[key] = toVarValue(name, val)\n  }\n\n  return next\n}\n\nexport const objectToVars = (parent: string, obj: Record<string, any>) => {\n  let vars: Record<string, object> = {}\n  for (let key in obj) {\n    if (key === 'modes') continue\n    const name = join(parent, key)\n    const value = obj[key]\n    if (value && typeof value === 'object') {\n      vars = {\n        ...vars,\n        ...objectToVars(name, value),\n      }\n    } else {\n      vars[toVarName(name)] = value\n    }\n  }\n  return vars\n}\n\n// create root styles for color modes\nexport const createColorStyles = (theme: Theme = {}) => {\n  const use = __internalGetUseRootStyles(theme)\n  if (!theme.colors || use.rootStyles === false) return {}\n  if (theme.useCustomProperties === false || !theme.colors.modes) {\n    return css({\n      [use.scope]: {\n        color: 'text',\n        bg: 'background',\n      },\n    })(theme)\n  }\n  const { colors, initialColorModeName, printColorModeName } = theme\n  const modes = colors.modes || {}\n  const styles = objectToVars('colors', colors)\n\n  Object.keys(modes).forEach((mode) => {\n    const key = `&.theme-ui-${mode}`\n    styles[key] = objectToVars('colors', modes[mode])\n  })\n  if (printColorModeName) {\n    const mode =\n      printColorModeName === 'initial' ||\n      printColorModeName === initialColorModeName\n        ? colors\n        : modes[printColorModeName]\n    styles['@media print'] = objectToVars('colors', mode)\n  }\n  const colorToVarValue = (color: string) =>\n    toVarValue(`colors-${color}`, get(theme, `colors.${color}`))\n\n  return css({\n    [use.scope]: {\n      ...styles,\n      color: colorToVarValue('text'),\n      bg: colorToVarValue('background'),\n    },\n  })(theme)\n}\n","import React, { Dispatch, SetStateAction } from 'react'\nimport { jsx, useThemeUI, merge, Context } from '@theme-ui/core'\nimport { get, Theme } from '@theme-ui/css'\nimport { Global, ThemeContext as EmotionContext } from '@emotion/react'\nimport { toCustomProperties, createColorStyles } from './custom-properties'\n\nconst STORAGE_KEY = 'theme-ui-color-mode'\n\ndeclare module '@theme-ui/core' {\n  export interface ContextValue {\n    colorMode?: string\n    setColorMode?: (colorMode: SetStateAction<string>) => void\n  }\n}\n\nconst storage = {\n  get: (init?: string) => {\n    try {\n      return window.localStorage.getItem(STORAGE_KEY) || init\n    } catch (e) {\n      console.warn(\n        'localStorage is disabled and color mode might not work as expected.',\n        'Please check your Site Settings.',\n        e\n      )\n    }\n  },\n  set: (value: string) => {\n    try {\n      window.localStorage.setItem(STORAGE_KEY, value)\n    } catch (e) {\n      console.warn(\n        'localStorage is disabled and color mode might not work as expected.',\n        'Please check your Site Settings.',\n        e\n      )\n    }\n  },\n}\n\nconst getPreferredColorScheme = (): 'dark' | 'light' | null => {\n  if (typeof window !== 'undefined' && window.matchMedia) {\n    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      return 'dark'\n    }\n    if (window.matchMedia('(prefers-color-scheme: light)').matches) {\n      return 'light'\n    }\n  }\n  return null\n}\n\nconst useColorModeState = (theme: Theme = {}) => {\n  const [mode, setMode] = React.useState(() => {\n    const preferredMode =\n      theme.useColorSchemeMediaQuery !== false && getPreferredColorScheme()\n\n    return preferredMode || theme.initialColorModeName || 'default'\n  })\n\n  // read color mode from local storage\n  React.useEffect(() => {\n    const stored = theme.useLocalStorage !== false && storage.get()\n    document.documentElement.classList.remove('theme-ui-' + stored)\n    document.body.classList.remove('theme-ui-' + stored)\n\n    if (stored && stored !== mode) {\n      setMode(stored)\n    }\n  }, [])\n\n  React.useEffect(() => {\n    if (mode && theme.useLocalStorage !== false) {\n      storage.set(mode)\n    }\n  }, [mode])\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (\n      theme.colors &&\n      theme.colors.modes &&\n      theme.initialColorModeName &&\n      Object.keys(theme.colors.modes).indexOf(theme.initialColorModeName) > -1\n    ) {\n      console.warn(\n        'The `initialColorModeName` value should be a unique name' +\n          ' and cannot reference a key in `theme.colors.modes`.'\n      )\n    }\n  }\n\n  return [mode, setMode] as const\n}\n\nexport function useColorMode<T extends string = string>(): [\n  T,\n  Dispatch<SetStateAction<T>>\n] {\n  const { colorMode, setColorMode } = useThemeUI()\n\n  if (typeof setColorMode !== 'function') {\n    throw new Error(`[useColorMode] requires the ColorModeProvider component`)\n  }\n\n  // We're allowing the user to specify a narrower type for its color mode name.\n  return ([colorMode, setColorMode] as unknown) as [\n    T,\n    Dispatch<SetStateAction<T>>\n  ]\n}\n\nconst applyColorMode = (theme: Theme, mode: string): Theme => {\n  if (!mode) return theme\n  const modes = get(theme, 'colors.modes', {})\n  return merge.all({}, theme, {\n    colors: get(modes, mode, {}),\n  })\n}\n\nconst BodyStyles = ({ theme }: { theme: Theme }) =>\n  jsx(Global, {\n    styles: () => {\n      return createColorStyles(theme)\n    },\n  })\n\nexport const ColorModeProvider: React.FC = ({ children }) => {\n  const outer = useThemeUI()\n  const [colorMode, setColorMode] = useColorModeState(outer.theme)\n  const theme = applyColorMode(outer.theme || {}, colorMode)\n  const emotionTheme = { ...theme }\n\n  if (theme.useCustomProperties !== false) {\n    emotionTheme.colors = toCustomProperties(emotionTheme.colors, 'colors')\n  }\n\n  const context = {\n    ...outer,\n    theme,\n    colorMode,\n    setColorMode,\n  }\n\n  return jsx(\n    EmotionContext.Provider,\n    { value: emotionTheme },\n    jsx(\n      Context.Provider,\n      { value: context },\n      jsx(BodyStyles, { key: 'color-mode', theme }),\n      children\n    )\n  )\n}\n\nconst noflash = `(function() { try {\n  var mode = localStorage.getItem('theme-ui-color-mode');\n  if (!mode) return\n  document.documentElement.classList.add('theme-ui-' + mode);\n  document.body.classList.add('theme-ui-' + mode);\n} catch (e) {} })();`\n\nexport const InitializeColorMode = () =>\n  jsx('script', {\n    key: 'theme-ui-no-flash',\n    dangerouslySetInnerHTML: {\n      __html: noflash,\n    },\n  })\n"],"names":["stripKeyDefault","key","replace","toVarName","toVarValue","value","join","filter","Boolean","numberScales","fontWeights","lineHeights","reservedKeys","useCustomProperties","initialColorModeName","printColorModeName","initialColorMode","useLocalStorage","toPixel","toCustomProperties","obj","parent","themeKey","next","Array","isArray","name","val","objectToVars","vars","createColorStyles","theme","use","__internalGetUseRootStyles","colors","rootStyles","modes","css","scope","color","bg","styles","Object","keys","forEach","mode","colorToVarValue","get","STORAGE_KEY","storage","init","window","localStorage","getItem","e","console","warn","set","setItem","getPreferredColorScheme","matchMedia","matches","useColorModeState","React","useState","preferredMode","useColorSchemeMediaQuery","setMode","useEffect","stored","document","documentElement","classList","remove","body","process","env","NODE_ENV","indexOf","useColorMode","useThemeUI","colorMode","setColorMode","Error","applyColorMode","merge","all","BodyStyles","jsx","Global","ColorModeProvider","children","outer","emotionTheme","context","EmotionContext","Provider","Context","noflash","InitializeColorMode","dangerouslySetInnerHTML","__html"],"mappings":"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"}