import { useThemeUI, jsx, ThemeProvider as ThemeProvider$1, __internalGetUseRootStyles } from '@theme-ui/core';
import { css } from '@theme-ui/css';
import { ColorModeProvider } from '@theme-ui/color-modes';
import { MDXProvider } from '@theme-ui/mdx';
import { Global } from '@emotion/react';

const RootStyles = () => jsx(Global, {
  styles: emotionTheme => {
    const theme = emotionTheme;

    const use = __internalGetUseRootStyles(theme);

    if (use.rootStyles === false || theme.styles && !theme.styles.root) {
      return false;
    }

    const boxSizing = theme.useBorderBox === false ? undefined : 'border-box';
    return css({
      '*': {
        boxSizing
      },
      [use.scope]: {
        margin: 0,
        variant: 'styles.root'
      }
    })(theme);
  }
});

const ThemeProvider = ({
  theme,
  components,
  children
}) => {
  const outer = useThemeUI();

  if (typeof outer.setColorMode === 'function') {
    return jsx(ThemeProvider$1, {
      theme
    }, jsx(MDXProvider, {
      components,
      children
    }));
  }

  return jsx(ThemeProvider$1, {
    theme
  }, jsx(ColorModeProvider, null, jsx(RootStyles), jsx(MDXProvider, {
    components,
    children
  })));
};

export { ThemeProvider };
//# sourceMappingURL=index.modern.js.map
