{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nvar themeUi = require('theme-ui');\n\nvar core = require('@emotion/core');\n\nvar humps = require('humps');\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nvar getSessionId = function getSessionId() {\n  if (typeof window === 'undefined') {\n    throw new Error('Session ID cannot be generated server-side!');\n  } //TODO: remove sessionId legacy name\n\n\n  var legacySessionId = window.localStorage.getItem('sessionId');\n\n  if (legacySessionId) {\n    window.localStorage.setItem('lyket-session-id', legacySessionId);\n    window.localStorage.removeItem('sessionId');\n  }\n\n  var sessionId = window.localStorage.getItem('lyket-session-id');\n\n  if (sessionId) {\n    return sessionId;\n  }\n\n  var newSessionId = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n  window.localStorage.setItem('lyket-session-id', newSessionId);\n  return newSessionId;\n}; // A type of promise-like that resolves synchronously and supports only one observer\n\n\nvar _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = /*#__PURE__*/Symbol(\"Symbol.iterator\")) : \"@@iterator\"; // Asynchronously iterate through an object's values\n\n\nvar _asyncIteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = /*#__PURE__*/Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\"; // Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\n\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n} // Asynchronously await a promise and pass the result to a finally continuation\n\n\nfunction lazyLoadScript(src, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  return new Promise(function (resolve, reject) {\n    var _opts = opts,\n        async = _opts.async,\n        integrity = _opts.integrity,\n        type = _opts.type;\n    var sc = document.querySelector(\"script[src=\\\"\" + src + \"\\\"]\");\n\n    if (sc) {\n      resolve(sc);\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.src = src;\n    if (async) script.setAttribute('async', 'true');\n    if (integrity) script.setAttribute('integrity', integrity);\n    if (type) script.setAttribute('type', type);\n\n    script.onload = function () {\n      return resolve(script);\n    };\n\n    script.onerror = function (event) {\n      return reject(event);\n    };\n\n    document.body.appendChild(script);\n  });\n}\n\nfunction generateRecaptchaToken(siteKey, action) {\n  return lazyLoadScript(\"https://www.google.com/recaptcha/api.js?render=\" + siteKey).then(function () {\n    return new Promise(function (resolve, reject) {\n      grecaptcha.ready(function () {\n        try {\n          var _temp2 = _catch(function () {\n            return Promise.resolve(grecaptcha.execute(siteKey, {\n              action: action\n            })).then(function (token) {\n              resolve(token);\n            });\n          }, function (e) {\n            console.error('recaptcha error!', e);\n            reject(e);\n          });\n\n          return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      });\n    });\n  });\n}\n\nvar ApiError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(ApiError, _Error);\n\n  function ApiError(requestInfo, requestInit, response) {\n    var _this;\n\n    _this = _Error.call(this, \"Failed API request to \" + requestInfo + \" with status \" + response.status) || this;\n    _this.requestInfo = requestInfo;\n    _this.requestInit = requestInit;\n    _this.response = response;\n    return _this;\n  }\n\n  return ApiError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar now = function now() {\n  return new Date().getTime();\n};\n\nfunction debounceCollect(func, wait) {\n  var call = function call() {\n    try {\n      return Promise.resolve(func.call(null, args)).then(function (results) {\n        for (var i = 0; i < results.length; i++) {\n          deferreds[i].resolve(results[i]);\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var onTimeout = function onTimeout() {\n    try {\n      var elapsed = now() - timestamp;\n\n      var _temp2 = function () {\n        if (elapsed < wait && elapsed > 0) {\n          timer = setTimeout(onTimeout, wait - elapsed);\n        } else {\n          timer = null;\n          return Promise.resolve(call()).then(function () {\n            if (!timer) reset();\n          });\n        }\n      }();\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var timer;\n  var timestamp;\n  var args = [];\n  var deferreds = [];\n\n  function reset() {\n    args = [];\n    deferreds = [];\n  }\n\n  return function debounced() {\n    for (var _len = arguments.length, callArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      callArgs[_key] = arguments[_key];\n    }\n\n    args.push(callArgs);\n    timestamp = now();\n    if (!timer) timer = setTimeout(onTimeout, wait);\n    return new Promise(function (resolve, reject) {\n      deferreds.push({\n        resolve: resolve,\n        reject: reject\n      });\n    });\n  };\n}\n\nvar LikeButtonClient = /*#__PURE__*/function () {\n  function LikeButtonClient(client) {\n    this.client = client;\n  }\n\n  var _proto = LikeButtonClient.prototype;\n\n  _proto.press = function press(_ref) {\n    var id = _ref.id,\n        namespace = _ref.namespace;\n    return this.client.put(namespace ? \"/like-buttons/\" + namespace + \"/\" + id + \"/press\" : \"/like-buttons/\" + id + \"/press\", 'press');\n  };\n\n  _proto.info = function info(_ref2) {\n    var id = _ref2.id,\n        namespace = _ref2.namespace;\n    return this.client.enqueueToBatch(namespace ? \"/like-buttons/\" + namespace + \"/\" + id : \"/like-buttons/\" + id);\n  };\n\n  return LikeButtonClient;\n}();\n\nvar ClapButtonClient = /*#__PURE__*/function () {\n  function ClapButtonClient(client) {\n    this.client = client;\n  }\n\n  var _proto2 = ClapButtonClient.prototype;\n\n  _proto2.press = function press(_ref3) {\n    var id = _ref3.id,\n        namespace = _ref3.namespace;\n    return this.client.put(namespace ? \"/clap-buttons/\" + namespace + \"/\" + id + \"/press\" : \"/clap-buttons/\" + id + \"/press\", 'press');\n  };\n\n  _proto2.info = function info(_ref4) {\n    var id = _ref4.id,\n        namespace = _ref4.namespace;\n    return this.client.enqueueToBatch(namespace ? \"/clap-buttons/\" + namespace + \"/\" + id : \"/clap-buttons/\" + id);\n  };\n\n  return ClapButtonClient;\n}();\n\nvar UpdownButtonClient = /*#__PURE__*/function () {\n  function UpdownButtonClient(client) {\n    this.client = client;\n  }\n\n  var _proto3 = UpdownButtonClient.prototype;\n\n  _proto3.info = function info(_ref5) {\n    var id = _ref5.id,\n        namespace = _ref5.namespace;\n    return this.client.enqueueToBatch(namespace ? \"/updown-buttons/\" + namespace + \"/\" + id : \"/updown-buttons/\" + id);\n  };\n\n  _proto3.pressUp = function pressUp(_ref6) {\n    var id = _ref6.id,\n        namespace = _ref6.namespace;\n    return this.client.put(namespace ? \"/updown-buttons/\" + namespace + \"/\" + id + \"/press-up\" : \"/updown-buttons/\" + id + \"/press-up\", 'pressUp');\n  };\n\n  _proto3.pressDown = function pressDown(_ref7) {\n    var id = _ref7.id,\n        namespace = _ref7.namespace;\n    return this.client.put(namespace ? \"/updown-buttons/\" + namespace + \"/\" + id + \"/press-down\" : \"/updown-buttons/\" + id + \"/press-down\", 'pressDown');\n  };\n\n  return UpdownButtonClient;\n}();\n\nvar Client = /*#__PURE__*/function () {\n  function Client(_ref8) {\n    var apiKey = _ref8.apiKey,\n        recaptchaSiteKey = _ref8.recaptchaSiteKey,\n        baseUrl = _ref8.baseUrl,\n        disableSessionId = _ref8.disableSessionId;\n    this.apiKey = apiKey;\n    this.recaptchaSiteKey = recaptchaSiteKey;\n    this.disableSessionId = disableSessionId;\n    this.baseUrl = baseUrl || 'https://api.lyket.dev';\n    this.likeButtons = new LikeButtonClient(this);\n    this.clapButtons = new ClapButtonClient(this);\n    this.updownButtons = new UpdownButtonClient(this);\n    this.enqueueToBatch = debounceCollect(this.batch.bind(this), 500);\n  }\n\n  var _proto4 = Client.prototype;\n\n  _proto4.get = function get(url) {\n    return this.request(url);\n  };\n\n  _proto4.batch = function batch(calls) {\n    try {\n      var _this2 = this; // return Promise.all(calls.map(args => this.request(args[0])));\n\n\n      var url = '/buttons/batch';\n      return Promise.resolve(_this2.request(url, {\n        method: 'POST',\n        body: {\n          type: 'batch',\n          data: {\n            attributes: {\n              urls: calls.map(function (args) {\n                return args[0];\n              })\n            }\n          }\n        }\n      })).then(function (result) {\n        return result.data.attributes.responses;\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto4.put = function put(url, recaptchaAction) {\n    return this.request(url, {\n      method: 'PUT',\n      recaptchaAction: recaptchaAction\n    });\n  };\n\n  _proto4.request = function request(input, init) {\n    try {\n      var _temp3 = function _temp3() {\n        var url = _this4.baseUrl + \"/v1\" + input;\n        var requestInit = init ? _extends({}, init, {\n          headers: _extends({}, defaultHeaders, init.headers),\n          body: init.body && JSON.stringify(init.body)\n        }) : {\n          headers: defaultHeaders\n        };\n        return Promise.resolve(fetch(url, requestInit)).then(function (response) {\n          if (response.status < 200 || response.status >= 300) {\n            throw new ApiError(url, requestInit, response);\n          }\n\n          return response.json();\n        });\n      };\n\n      var _this4 = this;\n\n      if (typeof window === 'undefined') {\n        throw 'Client is supposed to be used client-side only!';\n      }\n\n      var defaultHeaders = {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: \"Bearer \" + _this4.apiKey\n      };\n\n      if (!_this4.disableSessionId) {\n        defaultHeaders['x-session-id'] = getSessionId();\n      }\n\n      var _temp4 = function () {\n        if (_this4.recaptchaSiteKey && init && init.recaptchaAction) {\n          return Promise.resolve(generateRecaptchaToken(_this4.recaptchaSiteKey, init.recaptchaAction)).then(function (_generateRecaptchaTok) {\n            defaultHeaders['x-recaptcha-token'] = _generateRecaptchaTok;\n          });\n        }\n      }();\n\n      return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(_temp3) : _temp3(_temp4));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return Client;\n}();\n\nvar ClientContext = /*#__PURE__*/React__default.createContext(null);\nvar defaultTheme = {\n  colors: {\n    background: 'transparent',\n    text: '#292929',\n    primary: '#BFFCED',\n    secondary: '#FBDEFB',\n    highlight: '#e095ed'\n  },\n  fonts: {\n    body: 'inherit'\n  }\n};\nvar clientInstances = {};\n\nvar getClientInstanceForSettings = function getClientInstanceForSettings(settings) {\n  var key = JSON.stringify(settings);\n\n  if (clientInstances[key]) {\n    return clientInstances[key];\n  }\n\n  var client = new Client(settings);\n  clientInstances[key] = client;\n  return client;\n};\n\nvar Provider = function Provider(_ref) {\n  var apiKey = _ref.apiKey,\n      recaptchaSiteKey = _ref.recaptchaSiteKey,\n      disableSessionId = _ref.disableSessionId,\n      baseUrl = _ref.baseUrl,\n      children = _ref.children,\n      customTheme = _ref.theme;\n\n  var _useState = React.useState(getClientInstanceForSettings({\n    apiKey: apiKey,\n    recaptchaSiteKey: recaptchaSiteKey,\n    disableSessionId: disableSessionId,\n    baseUrl: baseUrl\n  })),\n      client = _useState[0],\n      setClient = _useState[1];\n\n  React.useEffect(function () {\n    setClient(getClientInstanceForSettings({\n      apiKey: apiKey,\n      recaptchaSiteKey: recaptchaSiteKey,\n      disableSessionId: disableSessionId,\n      baseUrl: baseUrl\n    }));\n  }, [apiKey, disableSessionId, recaptchaSiteKey, baseUrl]);\n  var theme = customTheme || {\n    colors: {},\n    fonts: {}\n  };\n\n  var colors = _extends({}, defaultTheme.colors, theme.colors);\n\n  var fonts = _extends({}, defaultTheme.fonts, theme.fonts);\n\n  return themeUi.jsx(themeUi.ThemeProvider, {\n    theme: {\n      useBodyStyles: false,\n      useLocalStorage: false,\n      colors: colors,\n      fonts: fonts,\n      styles: {}\n    }\n  }, themeUi.jsx(ClientContext.Provider, {\n    value: client\n  }, children));\n};\n\nvar useSafeEffect = function useSafeEffect(effect, deps) {\n  var setState = React.useState()[1];\n  return React.useEffect(function () {\n    var safeRunner = function safeRunner() {\n      try {\n        var _temp2 = _catch(function () {\n          return Promise.resolve(effect()).then(function () {});\n        }, function (e) {\n          setState(function () {\n            throw e;\n          });\n        });\n\n        return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    };\n\n    safeRunner();\n  }, deps);\n};\n\nvar ClapFull = function ClapFull(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 29 29\",\n    \"aria-label\": \"clap\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\"\n  }), React__default.createElement(\"path\", {\n    d: \"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\"\n  }));\n};\n\nvar style = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.5em',\n    color: 'text',\n    fontWeight: 'body',\n    fontFamily: 'body'\n  },\n  icon: {\n    height: '2em',\n    display: 'block',\n    margin: '0 auto',\n    fill: 'text'\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: 'highlight',\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100%',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '3em',\n    height: '3em',\n    padding: '0',\n    lineHeight: '1em'\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    fontSize: '.8em',\n    height: '3.4em',\n    width: '3.4em',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: 'text',\n    borderRadius: '100%',\n    top: '-3em',\n    left: '-1.7em'\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\nvar theme = {\n  buttons: {\n    inactive: {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      backgroundColor: 'background'\n    },\n    active: {\n      backgroundColor: 'primary'\n    }\n  }\n};\nvar baloonFade = /*#__PURE__*/core.keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-1em)'\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-4em)'\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-6em)'\n  }\n});\nvar iconScale = /*#__PURE__*/core.keyframes({\n  '0%': {\n    transform: 'scale(0)'\n  },\n  '52%': {\n    transform: 'scale(1.2)'\n  },\n  '72%': {\n    transform: 'scale(0.9)'\n  },\n  '100%': {\n    transform: 'scale(1)'\n  }\n});\nvar ringScale = /*#__PURE__*/core.keyframes({\n  '0%': {\n    opacity: '1',\n    borderWidth: '0.5em'\n  },\n  '52%': {\n    opacity: '0',\n    borderWidth: '0'\n  }\n});\nvar BALOON = {\n  durationMs: 800,\n  animation: baloonFade\n};\nvar ICON = {\n  durationMs: 500,\n  animation: iconScale\n};\nvar RING = {\n  durationMs: 600,\n  animation: ringScale\n};\n\nvar Simple = function Simple(_ref) {\n  var isLoading = _ref.isLoading,\n      userClaps = _ref.userClaps,\n      totalClaps = _ref.totalClaps,\n      handlePress = _ref.handlePress,\n      isCounterVisible = _ref.isCounterVisible;\n\n  var _useState = React.useState(false),\n      animationActive = _useState[0],\n      setAnimationActive = _useState[1];\n\n  var timeoutId = React.useRef(null);\n  var handleClick = React.useCallback(function (e) {\n    setAnimationActive(true);\n\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n    }\n\n    timeoutId.current = setTimeout(function () {\n      return setAnimationActive(false);\n    }, BALOON.durationMs);\n    handlePress(e);\n  }, [handlePress]);\n\n  var ringStyle = _extends({}, style.ring, {\n    animation: animationActive ? RING.animation + \" \" + RING.durationMs + \"ms ease forwards\" : null\n  });\n\n  return themeUi.jsx(themeUi.ThemeProvider, {\n    theme: theme\n  }, themeUi.jsx(\"div\", {\n    sx: style.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    sx: _extends({}, style.button, {\n      variant: userClaps ? 'buttons.active' : 'buttons.inactive',\n      '@media (hover: hover)': {\n        ':hover': {\n          variant: 'buttons.active'\n        }\n      }\n    }),\n    disabled: isLoading\n  }, themeUi.jsx(\"div\", {\n    sx: style.centeredContainer\n  }, themeUi.jsx(\"div\", {\n    key: timeoutId.current && timeoutId.current.toString(),\n    sx: _extends({}, style.baloon, {\n      animation: animationActive ? BALOON.animation + \" \" + BALOON.durationMs + \"ms ease forwards\" : null\n    })\n  }, userClaps)), themeUi.jsx(\"div\", {\n    sx: ringStyle\n  }), themeUi.jsx(ClapFull, {\n    sx: _extends({}, style.icon, {\n      animation: animationActive ? ICON.animation + \" \" + ICON.durationMs + \"ms ease forwards\" : null\n    })\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style.counter\n  }, totalClaps)));\n};\n\nvar ClapEmpty = function ClapEmpty(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 33 33\",\n    \"aria-label\": \"clap\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z\",\n    fillRule: \"evenodd\"\n  }));\n};\n\nvar ClapFull$1 = function ClapFull(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 29 29\",\n    \"aria-label\": \"clap\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\"\n  }), React__default.createElement(\"path\", {\n    d: \"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\"\n  }));\n};\n\nvar style$1 = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.2em'\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1.1)'\n        }\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1.1)'\n        }\n      }\n    }\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    fontSize: '.8em',\n    height: '3.4em',\n    width: '3.4em',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    background: '#292929',\n    borderRadius: '100%',\n    top: '-3em',\n    left: '-1.7em'\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\nvar baloonFade$1 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-1em)'\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-4em)'\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-6em)'\n  }\n});\nvar triangleFade = /*#__PURE__*/core.keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)'\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)'\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)'\n  }\n});\nvar iconScale$1 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    transform: 'scale(1)'\n  },\n  '32%': {\n    transform: 'scale(1.15)'\n  },\n  '100%': {\n    transform: 'scale(1.1)'\n  }\n});\nvar BALOON$1 = {\n  durationMs: 800,\n  animation: baloonFade$1\n};\nvar TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: '#ff365e',\n  durationMs: 300,\n  animation: triangleFade\n};\nvar CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: '#4086ff',\n  durationMs: 500,\n  animation: triangleFade\n};\nvar ICON$1 = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale$1\n};\n\nvar Medium = function Medium(_ref) {\n  var isLoading = _ref.isLoading,\n      userClaps = _ref.userClaps,\n      totalClaps = _ref.totalClaps,\n      handlePress = _ref.handlePress,\n      isCounterVisible = _ref.isCounterVisible;\n\n  var _useState = React.useState(false),\n      animationActive = _useState[0],\n      setAnimationActive = _useState[1];\n\n  var triangles = [];\n\n  for (var i = 0; i < TRIANGLES.count; i++) {\n    triangles.push(themeUi.jsx(\"div\", {\n      key: i,\n      sx: {\n        transform: \"rotate(\" + 360 / TRIANGLES.count * i + \"deg)\",\n        transformOrigin: TRIANGLES.size + \"em 0\",\n        marginLeft: \"-\" + TRIANGLES.size + \"em\"\n      }\n    }, themeUi.jsx(\"div\", {\n      sx: {\n        width: '0',\n        height: '0',\n        opacity: '0',\n        borderLeft: TRIANGLES.size + \"em solid transparent\",\n        borderRight: TRIANGLES.size + \"em solid transparent\",\n        borderTop: TRIANGLES.size + \"em solid \" + TRIANGLES.color,\n        position: 'absolute',\n        animation: animationActive ? triangleFade + \" \" + TRIANGLES.durationMs + \"ms ease forwards\" : null\n      }\n    })));\n  }\n\n  var circles = [];\n\n  for (var _i = 0; _i < CIRCLES.count; _i++) {\n    circles.push(themeUi.jsx(\"div\", {\n      key: _i,\n      sx: {\n        transform: \"rotate(\" + 360 / CIRCLES.count * _i + \"deg)\",\n        transformOrigin: CIRCLES.size + \"em 0\",\n        marginLeft: \"-\" + CIRCLES.size + \"em\"\n      }\n    }, themeUi.jsx(\"div\", {\n      sx: {\n        width: '0',\n        height: '0',\n        opacity: '0',\n        padding: CIRCLES.size + \"em\",\n        backgroundColor: \"\" + CIRCLES.color,\n        borderRadius: '100%',\n        position: 'absolute',\n        animation: animationActive ? triangleFade + \" \" + CIRCLES.durationMs + \"ms ease forwards\" : null\n      }\n    })));\n  }\n\n  var timeoutId = React.useRef(null);\n  var handleClick = React.useCallback(function (e) {\n    setAnimationActive(true);\n\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n    }\n\n    timeoutId.current = setTimeout(function () {\n      return setAnimationActive(false);\n    }, BALOON$1.durationMs);\n    handlePress(e);\n  }, [handlePress]);\n  var Icon = userClaps && userClaps > 0 ? ClapFull$1 : ClapEmpty;\n  return themeUi.jsx(\"div\", {\n    sx: style$1.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    sx: style$1.button,\n    disabled: isLoading\n  }, themeUi.jsx(\"div\", {\n    sx: style$1.centeredContainer\n  }, \" \", triangles, \" \"), themeUi.jsx(\"div\", {\n    sx: style$1.centeredContainer\n  }, \" \", circles, \" \"), themeUi.jsx(\"div\", {\n    sx: style$1.centeredContainer\n  }, themeUi.jsx(\"div\", {\n    key: timeoutId.current && timeoutId.current.toString(),\n    sx: _extends({}, style$1.baloon, {\n      animation: animationActive ? BALOON$1.animation + \" \" + BALOON$1.durationMs + \"ms ease forwards\" : null\n    })\n  }, userClaps)), themeUi.jsx(Icon, {\n    sx: {\n      fill: isLoading ? '#aaa' : 'auto',\n      height: '3em',\n      transition: 'all 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      animation: animationActive ? ICON$1.animation + \" \" + ICON$1.durationMs + \"ms ease forwards\" : null\n    }\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$1.counter\n  }, totalClaps));\n};\n\nvar templates = {\n  Simple: Simple,\n  Medium: Medium\n};\n\nvar ClapButton = function ClapButton(_ref) {\n  var id = _ref.id,\n      namespace = _ref.namespace,\n      hideCounterIfLessThan = _ref.hideCounterIfLessThan,\n      children = _ref.children,\n      component = _ref.component,\n      onLoad = _ref.onLoad,\n      onPress = _ref.onPress;\n  var client = React.useContext(ClientContext);\n\n  var _useState = React.useState(null),\n      response = _useState[0],\n      setResponse = _useState[1];\n\n  useSafeEffect(function () {\n    try {\n      return Promise.resolve(_catch(function () {\n        var _temp = function () {\n          if (client) {\n            return Promise.resolve(client.clapButtons.info({\n              id: id,\n              namespace: namespace\n            })).then(function (result) {\n              setResponse(result.data);\n\n              if (onLoad) {\n                onLoad(humps.camelizeKeys(result.data));\n              }\n            });\n          }\n        }();\n\n        if (_temp && _temp.then) return _temp.then(function () {});\n      }, function (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [client, id, namespace]);\n  var handlePress = React.useCallback(function (e) {\n    try {\n      e.preventDefault();\n      return Promise.resolve(_catch(function () {\n        var _temp2 = function () {\n          if (client) {\n            return Promise.resolve(client.clapButtons.press({\n              id: id,\n              namespace: namespace\n            })).then(function (result) {\n              setResponse(result.data);\n\n              if (onPress) {\n                onPress(humps.camelizeKeys(result.data));\n              }\n            });\n          }\n        }();\n\n        if (_temp2 && _temp2.then) return _temp2.then(function () {});\n      }, function (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [client, id, namespace]);\n  var isCounterVisible = true;\n\n  if (!response || hideCounterIfLessThan && response && response.attributes.total_claps < hideCounterIfLessThan) {\n    isCounterVisible = false;\n  }\n\n  var props = {\n    isLoading: !response,\n    totalClaps: response && response.attributes.total_claps || 0,\n    userClaps: response && response.attributes.user_claps || 0,\n    handlePress: handlePress,\n    isCounterVisible: isCounterVisible\n  };\n\n  if (children) {\n    return children(props);\n  }\n\n  var Component = component || Simple;\n  return React__default.createElement(Component, Object.assign({}, props));\n};\n\nClapButton.templates = templates;\n\nvar ThumbIcon = function ThumbIcon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    id: \"ThumUpWiki\",\n    viewBox: \"0 0 215.34 215.34\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"M7.67,93.896h52.077V215.34H7.67V93.896z M207.67,106.682c-7.189-7.189-14.382-14.379-21.572-21.57h-41.451l9.877-25.102  l2.801-7.119l-0.258-2.049L151,2.33L121.115,0L110.15,37.822L80.954,85.176V215.34h107.89L207.67,106.682z\"\n  }));\n};\n\nvar style$2 = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.5em',\n    color: 'text',\n    fontFamily: 'body',\n    fontWeight: 'body'\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: 'text'\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: 'highlight',\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100%',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '3em',\n    height: '3em',\n    padding: '0',\n    lineHeight: '1em'\n  }\n};\nvar theme$1 = {\n  buttons: {\n    inactive: {\n      backgroundColor: 'background'\n    },\n    active: {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      backgroundColor: 'primary'\n    }\n  }\n};\nvar iconScale$2 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    transform: 'scale(0)'\n  },\n  '52%': {\n    transform: 'scale(1.2)'\n  },\n  '72%': {\n    transform: 'scale(0.9)'\n  },\n  '100%': {\n    transform: 'scale(1)'\n  }\n});\nvar ringScale$1 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    opacity: '1',\n    borderWidth: '0.5em'\n  },\n  '52%': {\n    opacity: '0',\n    borderWidth: '0'\n  }\n});\nvar RING$1 = {\n  durationMs: 600,\n  animation: ringScale$1\n};\nvar ICON$2 = {\n  animation: iconScale$2,\n  durationMs: 700\n};\n\nvar Simple$1 = function Simple(_ref) {\n  var isLoading = _ref.isLoading,\n      userLiked = _ref.userLiked,\n      totalLikes = _ref.totalLikes,\n      handlePress = _ref.handlePress,\n      isCounterVisible = _ref.isCounterVisible;\n\n  var _useState = React.useState(false),\n      animationActive = _useState[0],\n      setAnimationActive = _useState[1];\n\n  var handleClick = React.useCallback(function (e) {\n    handlePress(e);\n\n    if (!userLiked) {\n      setAnimationActive(true);\n      setTimeout(function () {\n        return setAnimationActive(false);\n      }, ICON$2.durationMs);\n    }\n  }, [userLiked, handlePress]);\n\n  var iconStyle = _extends({}, style$2.icon, {\n    animation: animationActive ? ICON$2.animation + \" \" + ICON$2.durationMs + \"ms ease forwards\" : null\n  });\n\n  var ringStyle = _extends({}, style$2.ring, {\n    animation: animationActive ? RING$1.animation + \" \" + RING$1.durationMs + \"ms ease forwards\" : null\n  });\n\n  return themeUi.jsx(themeUi.ThemeProvider, {\n    theme: theme$1\n  }, themeUi.jsx(\"div\", {\n    sx: style$2.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    disabled: isLoading,\n    sx: _extends({}, style$2.button, {\n      variant: userLiked ? 'buttons.active' : 'buttons.inactive',\n      '@media (hover: hover)': {\n        ':hover': {\n          variant: 'buttons.active'\n        }\n      }\n    })\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyle\n  }), themeUi.jsx(ThumbIcon, {\n    sx: iconStyle\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$2.counter\n  }, totalLikes)));\n};\n\nvar TwitterHeartFull = function TwitterHeartFull(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    className: className\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"path\", {\n    d: \"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\"\n  })));\n};\n\nvar TwitterHeartEmpty = function TwitterHeartEmpty(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    className: className\n  }, React__default.createElement(\"g\", null, React__default.createElement(\"path\", {\n    d: \"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\"\n  })));\n};\n\nvar style$3 = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.2em'\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100%',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '3em',\n    height: '3em',\n    padding: '0',\n    lineHeight: '1em',\n    '@media (hover: hover)': {\n      ':hover': {\n        transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n        backgroundColor: '#E5214A20'\n      }\n    }\n  },\n  dotsRotContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  dotsContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%) rotate(165deg)'\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  icon: {\n    height: '2em',\n    display: 'block',\n    margin: '0 auto',\n    animationTimingFunction: 'cubic-bezier(0.280, 0.840, 0.420, 1)'\n  }\n};\nvar dotBurst = /*#__PURE__*/core.keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)'\n  },\n  '52%': {\n    opacity: '1',\n    transform: 'translateY(-1.6em) scale(1.3)'\n  },\n  '100%': {\n    transform: 'translateY(-2.7em) scale(0)'\n  }\n});\nvar iconScale$3 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    transform: 'scale(0)'\n  },\n  '52%': {\n    transform: 'scale(1.2)'\n  },\n  '72%': {\n    transform: 'scale(0.9)'\n  },\n  '100%': {\n    transform: 'scale(1)'\n  }\n});\nvar ringScale$2 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    opacity: '1',\n    borderWidth: '0.5em'\n  },\n  '52%': {\n    opacity: '0',\n    borderWidth: '0'\n  }\n});\nvar DOTS = {\n  count: 6,\n  size: 0.2,\n  colors: ['lightcoral', 'yellow', 'pink', 'lightseagreen', 'orange', 'aliceblue'],\n  durationMs: 600,\n  animation: dotBurst\n};\nvar RING$2 = {\n  color: '#e095ed',\n  durationMs: DOTS.durationMs,\n  animation: ringScale$2\n};\nvar HEART = {\n  animation: iconScale$3,\n  durationMs: 700\n};\n\nvar Twitter = function Twitter(_ref) {\n  var isLoading = _ref.isLoading,\n      userLiked = _ref.userLiked,\n      totalLikes = _ref.totalLikes,\n      handlePress = _ref.handlePress,\n      isCounterVisible = _ref.isCounterVisible;\n\n  var _useState = React.useState(false),\n      animationActive = _useState[0],\n      setAnimationActive = _useState[1];\n\n  var dots = [];\n\n  for (var i = 0; i < DOTS.count; i++) {\n    dots.push(themeUi.jsx(\"div\", {\n      key: i,\n      sx: {\n        transform: \"rotate(\" + 360 / DOTS.count * i + \"deg)\",\n        transformOrigin: DOTS.size + \"em 0\",\n        marginLeft: \"-\" + DOTS.size + \"em\"\n      }\n    }, themeUi.jsx(\"div\", {\n      sx: {\n        opacity: '0',\n        width: DOTS.size + \"em\",\n        height: DOTS.size + \"em\",\n        borderRadius: DOTS.size + \"em\",\n        backgroundColor: \"\" + DOTS.colors[i],\n        position: 'absolute',\n        animation: animationActive ? dotBurst + \" \" + DOTS.durationMs + \"ms ease forwards\" : null\n      }\n    })));\n  }\n\n  var ring = themeUi.jsx(\"div\", {\n    sx: _extends({}, style$3.ring, {\n      border: \"1px solid \" + RING$2.color,\n      animation: animationActive ? RING$2.animation + \" \" + RING$2.durationMs + \"ms ease forwards\" : null\n    })\n  });\n  var handleClick = React.useCallback(function (e) {\n    if (!userLiked) {\n      setAnimationActive(true);\n      setTimeout(function () {\n        return setAnimationActive(false);\n      }, DOTS.durationMs);\n    }\n\n    handlePress(e);\n  }, [userLiked, handlePress]);\n  var Icon = userLiked ? TwitterHeartFull : TwitterHeartEmpty;\n  return themeUi.jsx(\"div\", {\n    sx: style$3.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClick,\n    sx: style$3.button,\n    disabled: isLoading\n  }, themeUi.jsx(\"div\", {\n    sx: style$3.dotsContainer\n  }, \" \", dots, \" \"), themeUi.jsx(\"div\", {\n    sx: style$3.dotsRotContainer\n  }, \" \", dots, \" \"), ring, themeUi.jsx(Icon, {\n    sx: _extends({}, style$3.icon, {\n      fill: isLoading ? '#aaa' : '#E5214A',\n      animation: animationActive ? HEART.animation + \" \" + HEART.durationMs + \"ms ease forwards\" : null\n    })\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$3.counter\n  }, totalLikes));\n};\n\nvar templates$1 = {\n  Simple: Simple$1,\n  Twitter: Twitter\n};\n\nvar LikeButton = function LikeButton(_ref) {\n  var id = _ref.id,\n      namespace = _ref.namespace,\n      hideCounterIfLessThan = _ref.hideCounterIfLessThan,\n      children = _ref.children,\n      component = _ref.component,\n      onLoad = _ref.onLoad,\n      onPress = _ref.onPress;\n  var client = React.useContext(ClientContext);\n\n  var _useState = React.useState(null),\n      response = _useState[0],\n      setResponse = _useState[1];\n\n  useSafeEffect(function () {\n    try {\n      return Promise.resolve(_catch(function () {\n        var _temp = function () {\n          if (client) {\n            return Promise.resolve(client.likeButtons.info({\n              id: id,\n              namespace: namespace\n            })).then(function (result) {\n              setResponse(result.data);\n\n              if (onLoad) {\n                onLoad(humps.camelizeKeys(result.data));\n              }\n            });\n          }\n        }();\n\n        if (_temp && _temp.then) return _temp.then(function () {});\n      }, function (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [client, id, namespace, onLoad]);\n  var handlePress = React.useCallback(function (e) {\n    try {\n      e.preventDefault();\n\n      if (!client) {\n        return Promise.resolve();\n      }\n\n      return Promise.resolve(_catch(function () {\n        return Promise.resolve(client.likeButtons.press({\n          id: id,\n          namespace: namespace\n        })).then(function (result) {\n          setResponse(result.data);\n\n          if (onPress) {\n            onPress(humps.camelizeKeys(result.data));\n          }\n        });\n      }, function (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [client, id, namespace, onPress]);\n  var isCounterVisible = true;\n\n  if (!response || hideCounterIfLessThan && response && response.attributes.total_likes < hideCounterIfLessThan) {\n    isCounterVisible = false;\n  }\n\n  var props = {\n    isLoading: !response,\n    totalLikes: response && response.attributes.total_likes || 0,\n    userLiked: response && response.attributes.user_has_liked || false,\n    handlePress: handlePress,\n    isCounterVisible: isCounterVisible\n  };\n\n  if (children) {\n    return children(props);\n  }\n\n  var Component = component || Simple$1;\n  return React__default.createElement(Component, Object.assign({}, props));\n};\n\nLikeButton.templates = templates$1;\n\nvar ThumbIcon$1 = function ThumbIcon(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    viewBox: \"0 0 215.34 215.34\",\n    className: className\n  }, React__default.createElement(\"path\", {\n    d: \"M7.67,93.896h52.077V215.34H7.67V93.896z M207.67,106.682c-7.189-7.189-14.382-14.379-21.572-21.57h-41.451l9.877-25.102  l2.801-7.119l-0.258-2.049L151,2.33L121.115,0L110.15,37.822L80.954,85.176V215.34h107.89L207.67,106.682z\"\n  }));\n};\n\nvar style$4 = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center'\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: 'text',\n    textAlign: 'center',\n    fontFamily: 'body',\n    fontWeight: 'body'\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: 'text'\n  },\n  ring: {\n    opacity: '0',\n    width: \"90%\",\n    height: \"90%\",\n    borderRadius: \"3em\",\n    border: \"1px solid\",\n    borderColor: 'highlight',\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100%',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '3em',\n    height: '3em',\n    padding: '0',\n    lineHeight: '1em'\n  }\n};\nvar theme$2 = {\n  buttons: {\n    upInactive: {\n      backgroundColor: 'background'\n    },\n    upActive: {\n      backgroundColor: 'primary',\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms'\n    },\n    downInactive: {\n      backgroundColor: 'background'\n    },\n    downActive: {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      backgroundColor: 'secondary'\n    }\n  }\n};\nvar iconScale$4 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    transform: 'scale(0)'\n  },\n  '52%': {\n    transform: 'scale(1.2)'\n  },\n  '72%': {\n    transform: 'scale(0.9)'\n  },\n  '100%': {\n    transform: 'scale(1)'\n  }\n});\nvar ringScale$3 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    opacity: '1',\n    borderWidth: '0.5em'\n  },\n  '52%': {\n    opacity: '0',\n    borderWidth: '0'\n  }\n});\nvar RING$3 = {\n  durationMs: 600,\n  animation: ringScale$3\n};\nvar ICON$3 = {\n  animation: iconScale$4,\n  durationMs: 700\n};\n\nvar Simple$2 = function Simple(_ref) {\n  var isLoading = _ref.isLoading,\n      userVoteDirection = _ref.userVoteDirection,\n      totalScore = _ref.totalScore,\n      handlePressUp = _ref.handlePressUp,\n      handlePressDown = _ref.handlePressDown,\n      isCounterVisible = _ref.isCounterVisible;\n\n  var _useState = React.useState(false),\n      animationActiveUp = _useState[0],\n      setAnimationActiveUp = _useState[1];\n\n  var _useState2 = React.useState(false),\n      animationActiveDown = _useState2[0],\n      setAnimationActiveDown = _useState2[1];\n\n  var handleClickUp = React.useCallback(function (e) {\n    handlePressUp(e);\n\n    if (userVoteDirection !== 1) {\n      setAnimationActiveUp(true);\n      setTimeout(function () {\n        return setAnimationActiveUp(false);\n      }, ICON$3.durationMs);\n    }\n  }, [userVoteDirection, handlePressUp]);\n  var handleClickDown = React.useCallback(function (e) {\n    handlePressDown(e);\n\n    if (userVoteDirection !== -1) {\n      setAnimationActiveDown(true);\n      setTimeout(function () {\n        return setAnimationActiveDown(false);\n      }, ICON$3.durationMs);\n    }\n  }, [userVoteDirection, handlePressDown]);\n\n  var iconStyleUp = _extends({}, style$4.icon, {\n    animation: animationActiveUp ? ICON$3.animation + \" \" + ICON$3.durationMs + \"ms ease forwards\" : null\n  });\n\n  var iconStyleDown = _extends({}, style$4.icon, {\n    animation: animationActiveDown ? ICON$3.animation + \" \" + ICON$3.durationMs + \"ms ease forwards\" : null\n  });\n\n  var ringStyleUp = _extends({}, style$4.ring, {\n    animation: animationActiveUp ? RING$3.animation + \" \" + RING$3.durationMs + \"ms ease forwards\" : null\n  });\n\n  var ringStyleDown = _extends({}, style$4.ring, {\n    animation: animationActiveDown ? RING$3.animation + \" \" + RING$3.durationMs + \"ms ease forwards\" : null\n  });\n\n  return themeUi.jsx(themeUi.ThemeProvider, {\n    theme: theme$2\n  }, themeUi.jsx(\"div\", {\n    sx: style$4.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClickUp,\n    disabled: isLoading,\n    sx: _extends({}, style$4.button, {\n      variant: userVoteDirection === 1 ? 'buttons.upActive' : 'buttons.upInactive',\n      '@media (hover: hover)': {\n        ':hover': {\n          variant: 'buttons.upActive'\n        }\n      }\n    })\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyleUp\n  }), themeUi.jsx(ThumbIcon$1, {\n    sx: iconStyleUp\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$4.counter\n  }, totalScore), isLoading && themeUi.jsx(\"div\", {\n    sx: style$4.counter\n  }, \"-\"), themeUi.jsx(\"button\", {\n    onClick: handleClickDown,\n    disabled: isLoading,\n    sx: _extends({}, style$4.button, {\n      transform: 'rotate(180deg)',\n      variant: userVoteDirection === -1 ? 'buttons.downActive' : 'buttons.downInactive',\n      '@media (hover: hover)': {\n        ':hover': {\n          variant: 'buttons.downActive'\n        }\n      }\n    })\n  }, themeUi.jsx(\"div\", {\n    sx: ringStyleDown\n  }), themeUi.jsx(ThumbIcon$1, {\n    sx: iconStyleDown\n  }))));\n};\n\nvar RedditArrow = function RedditArrow(_ref) {\n  var className = _ref.className;\n  return React__default.createElement(\"svg\", {\n    version: \"1.0\",\n    viewBox: \"0 0 1280 1280\",\n    className: className,\n    preserveAspectRatio: \"xMidYMid meet\"\n  }, React__default.createElement(\"g\", {\n    transform: \"translate(0,1280) scale(0.100000,-0.100000)\",\n    stroke: \"none\"\n  }, React__default.createElement(\"path\", {\n    d: \"M6245 12778 c-200 -44 -333 -117 -494 -272 -53 -51 -1149 -1102\\n  -2436 -2336 -3028 -2904 -3071 -2945 -3122 -3010 -133 -170 -219 -465 -183\\n  -629 35 -159 45 -192 80 -267 50 -109 104 -185 187 -265 83 -81 140 -119 246\\n  -169 175 -81 33 -74 1677 -77 1359 -3 1466 -4 1478 -20 9 -13 12 -527 12\\n  -2487 0 -2658 -2 -2524 50 -2663 84 -226 259 -410 479 -503 40 -17 123 -42\\n  184 -56 l112 -24 1905 3 c1897 2 1905 2 1995 23 173 41 319 120 439 238 104\\n  102 171 212 222 366 l29 85 5 2507 c3 1701 8 2510 15 2517 7 7 487 12 1475 13\\n  1644 4 1502 -3 1677 78 104 48 161 88 247 169 137 131 213 277 256 491 25 119\\n  25 151 0 270 -32 159 -75 262 -155 375 -53 75 -26 49 -3010 2910 -1353 1297\\n  -2506 2402 -2561 2456 -169 163 -299 234 -509 278 -119 25 -181 25 -300 -1z\"\n  })));\n};\n\nvar style$5 = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  counter: {\n    mt: '.2em',\n    mb: '.2em',\n    minWidth: '2em',\n    textAlign: 'center'\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    animationTimingFunction: 'cubic-bezier(0.280, 0.840, 0.420, 1)'\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '3px',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '2em',\n    height: '2em',\n    padding: '0',\n    lineHeight: '1em'\n  }\n};\nvar theme$3 = {\n  colors: {\n    lightGray: '#25252510',\n    darkGray: '#878a8c',\n    blue: '#5a75cc',\n    red: '#cc3700'\n  },\n  buttons: {\n    downInactive: {\n      svg: {\n        fill: 'darkGray'\n      }\n    },\n    upInactive: {\n      svg: {\n        fill: 'darkGray'\n      }\n    },\n    upActive: {\n      backgroundColor: 'lightGray',\n      svg: {\n        fill: 'red'\n      }\n    },\n    downActive: {\n      backgroundColor: 'lightGray',\n      svg: {\n        fill: 'blue'\n      }\n    }\n  }\n};\nvar iconScale$5 = /*#__PURE__*/core.keyframes({\n  '0%': {\n    transform: 'scale(0)'\n  },\n  '52%': {\n    transform: 'scale(1.2)'\n  },\n  '72%': {\n    transform: 'scale(0.9)'\n  },\n  '100%': {\n    transform: 'scale(1)'\n  }\n});\nvar ICON$4 = {\n  animation: iconScale$5,\n  durationMs: 700\n};\n\nvar Reddit = function Reddit(_ref) {\n  var isLoading = _ref.isLoading,\n      userVoteDirection = _ref.userVoteDirection,\n      totalScore = _ref.totalScore,\n      handlePressUp = _ref.handlePressUp,\n      handlePressDown = _ref.handlePressDown,\n      isCounterVisible = _ref.isCounterVisible;\n\n  var _useState = React.useState(false),\n      animationActiveUp = _useState[0],\n      setAnimationActiveUp = _useState[1];\n\n  var _useState2 = React.useState(false),\n      animationActiveDown = _useState2[0],\n      setAnimationActiveDown = _useState2[1];\n\n  var handleClickUp = React.useCallback(function (e) {\n    handlePressUp(e);\n\n    if (userVoteDirection !== 1) {\n      setAnimationActiveUp(true);\n      setTimeout(function () {\n        return setAnimationActiveUp(false);\n      }, ICON$4.durationMs);\n    }\n  }, [userVoteDirection, handlePressUp]);\n  var handleClickDown = React.useCallback(function (e) {\n    handlePressDown(e);\n\n    if (userVoteDirection !== -1) {\n      setAnimationActiveDown(true);\n      setTimeout(function () {\n        return setAnimationActiveDown(false);\n      }, ICON$4.durationMs);\n    }\n  }, [userVoteDirection, handlePressDown]);\n\n  var iconStyleUp = _extends({}, style$5.icon, {\n    animation: animationActiveUp ? ICON$4.animation + \" \" + ICON$4.durationMs + \"ms ease forwards\" : null\n  });\n\n  var iconStyleDown = _extends({}, style$5.icon, {\n    animation: animationActiveDown ? ICON$4.animation + \" \" + ICON$4.durationMs + \"ms ease forwards\" : null\n  });\n\n  return themeUi.jsx(themeUi.ThemeProvider, {\n    theme: theme$3\n  }, themeUi.jsx(\"div\", {\n    sx: style$5.root\n  }, themeUi.jsx(\"button\", {\n    onClick: handleClickUp,\n    disabled: isLoading,\n    sx: _extends({}, style$5.button, {\n      variant: userVoteDirection === 1 ? 'buttons.upActive' : 'buttons.upInactive',\n      '@media (hover: hover)': {\n        ':hover': {\n          variant: 'buttons.upActive',\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms'\n        }\n      }\n    })\n  }, themeUi.jsx(RedditArrow, {\n    sx: iconStyleUp\n  })), isCounterVisible && themeUi.jsx(\"div\", {\n    sx: style$5.counter\n  }, totalScore), isLoading && themeUi.jsx(\"div\", {\n    sx: style$5.counter\n  }, \"-\"), themeUi.jsx(\"button\", {\n    onClick: handleClickDown,\n    disabled: isLoading,\n    sx: _extends({}, style$5.button, {\n      transform: 'rotate(180deg)',\n      variant: userVoteDirection === -1 ? 'buttons.downActive' : 'buttons.downInactive',\n      '@media (hover: hover)': {\n        ':hover': {\n          variant: 'buttons.downActive',\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms'\n        }\n      }\n    })\n  }, themeUi.jsx(RedditArrow, {\n    sx: iconStyleDown\n  }))));\n};\n\nvar templates$2 = {\n  Simple: Simple$2,\n  Reddit: Reddit\n};\n\nvar UpdownButton = function UpdownButton(_ref) {\n  var id = _ref.id,\n      namespace = _ref.namespace,\n      hideCounterIfLessThan = _ref.hideCounterIfLessThan,\n      children = _ref.children,\n      component = _ref.component,\n      onLoad = _ref.onLoad,\n      onPressUp = _ref.onPressUp,\n      onPressDown = _ref.onPressDown;\n  var client = React.useContext(ClientContext);\n\n  var _useState = React.useState(null),\n      response = _useState[0],\n      setResponse = _useState[1];\n\n  useSafeEffect(function () {\n    try {\n      return Promise.resolve(_catch(function () {\n        var _temp = function () {\n          if (client) {\n            return Promise.resolve(client.updownButtons.info({\n              id: id,\n              namespace: namespace\n            })).then(function (result) {\n              setResponse(result.data);\n\n              if (onLoad) {\n                onLoad(humps.camelizeKeys(result.data));\n              }\n            });\n          }\n        }();\n\n        if (_temp && _temp.then) return _temp.then(function () {});\n      }, function (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [client, id, namespace, onLoad]);\n  var handlePressUp = React.useCallback(function (e) {\n    try {\n      e.preventDefault();\n      return Promise.resolve(_catch(function () {\n        var _temp2 = function () {\n          if (client) {\n            return Promise.resolve(client.updownButtons.pressUp({\n              id: id,\n              namespace: namespace\n            })).then(function (result) {\n              setResponse(result.data);\n\n              if (onPressUp) {\n                onPressUp(humps.camelizeKeys(result.data));\n              }\n            });\n          }\n        }();\n\n        if (_temp2 && _temp2.then) return _temp2.then(function () {});\n      }, function (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [client, id, namespace, onPressUp]);\n  var handlePressDown = React.useCallback(function (e) {\n    try {\n      e.preventDefault();\n      return Promise.resolve(_catch(function () {\n        var _temp3 = function () {\n          if (client) {\n            return Promise.resolve(client.updownButtons.pressDown({\n              id: id,\n              namespace: namespace\n            })).then(function (result) {\n              setResponse(result.data);\n\n              if (onPressDown) {\n                onPressDown(humps.camelizeKeys(result.data));\n              }\n            });\n          }\n        }();\n\n        if (_temp3 && _temp3.then) return _temp3.then(function () {});\n      }, function (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [client, id, namespace, onPressDown]);\n  var isCounterVisible = true;\n\n  if (!response || hideCounterIfLessThan && response && response.attributes.total_score < hideCounterIfLessThan) {\n    isCounterVisible = false;\n  }\n\n  var props = {\n    isLoading: !response,\n    totalScore: response && response.attributes.total_score || 0,\n    userVoteDirection: response && response.attributes.user_vote_direction || 0,\n    handlePressUp: handlePressUp,\n    handlePressDown: handlePressDown,\n    isCounterVisible: isCounterVisible\n  };\n\n  if (children) {\n    return children(props);\n  }\n\n  var Component = component || Simple$2;\n  return React__default.createElement(Component, Object.assign({}, props));\n};\n\nUpdownButton.templates = templates$2;\nexports.ClapButton = ClapButton;\nexports.Client = Client;\nexports.LikeButton = LikeButton;\nexports.Provider = Provider;\nexports.UpdownButton = UpdownButton;","map":{"version":3,"sources":["../src/Client/sessionId.ts","../../../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/Client/lazyLoadScript.ts","../src/Client/generateRecaptchaToken.ts","../src/Client/ApiError.ts","../src/Client/debounceCollect.ts","../src/Client/index.ts","../src/contexts/ClientContext.ts","../src/theme.ts","../src/Provider.tsx","../src/hooks/useSafeEffect.ts","../src/ClapButton/templates/Simple/icons/ClapFull.tsx","../src/ClapButton/templates/Simple/style.ts","../src/ClapButton/templates/Simple/theme.ts","../src/ClapButton/templates/Simple/index.tsx","../src/ClapButton/templates/Medium/icons/ClapEmpty.tsx","../src/ClapButton/templates/Medium/icons/ClapFull.tsx","../src/ClapButton/templates/Medium/style.ts","../src/ClapButton/templates/Medium/index.tsx","../src/ClapButton/index.tsx","../src/LikeButton/templates/Simple/icons/ThumbIcon.tsx","../src/LikeButton/templates/Simple/style.ts","../src/LikeButton/templates/Simple/theme.ts","../src/LikeButton/templates/Simple/index.tsx","../src/LikeButton/templates/Twitter/icons/TwitterHeartFull.tsx","../src/LikeButton/templates/Twitter/icons/TwitterHeartEmpty.tsx","../src/LikeButton/templates/Twitter/style.ts","../src/LikeButton/templates/Twitter/index.tsx","../src/LikeButton/index.tsx","../src/UpdownButton/templates/Simple/icons/ThumbIcon.tsx","../src/UpdownButton/templates/Simple/style.ts","../src/UpdownButton/templates/Simple/theme.ts","../src/UpdownButton/templates/Simple/index.tsx","../src/UpdownButton/templates/Reddit/icons/RedditArrow.tsx","../src/UpdownButton/templates/Reddit/style.ts","../src/UpdownButton/templates/Reddit/theme.ts","../src/UpdownButton/templates/Reddit/index.tsx","../src/UpdownButton/index.tsx"],"names":["getSessionId","legacySessionId","window","sessionId","newSessionId","Math","_iteratorSymbol","Symbol","_asyncIteratorSymbol","result","body","recover","lazyLoadScript","src","opts","async","integrity","type","sc","document","resolve","script","reject","generateRecaptchaToken","siteKey","action","grecaptcha","e","console","ApiError","response","now","debounceCollect","func","wait","args","deferreds","onTimeout","elapsed","timer","setTimeout","call","reset","results","i","callArgs","timestamp","LikeButtonClient","press","id","namespace","info","ClapButtonClient","UpdownButtonClient","pressUp","pressDown","Client","apiKey","recaptchaSiteKey","baseUrl","disableSessionId","get","url","method","data","attributes","urls","put","recaptchaAction","defaultHeaders","Accept","Authorization","init","requestInit","headers","JSON","fetch","ClientContext","React","defaultTheme","colors","background","text","primary","secondary","highlight","fonts","clientInstances","getClientInstanceForSettings","key","client","Provider","children","theme","customTheme","setClient","useState","useEffect","jsx","ThemeProvider","useBodyStyles","useLocalStorage","styles","value","useSafeEffect","setState","safeRunner","effect","ClapFull","className","viewBox","d","style","root","color","fontFamily","display","alignItems","counter","ml","fontWeight","icon","height","margin","fill","ring","opacity","width","borderRadius","border","borderColor","boxSizing","position","top","left","transform","button","outline","cursor","appearance","fontSize","transition","padding","lineHeight","baloon","justifyContent","backgroundColor","centeredContainer","buttons","inactive","active","baloonFade","keyframes","iconScale","ringScale","borderWidth","BALOON","durationMs","animation","ICON","RING","Simple","isLoading","userClaps","totalClaps","handlePress","isCounterVisible","animationActive","setAnimationActive","timeoutId","useRef","handleClick","useCallback","clearTimeout","ringStyle","sx","onClick","variant","disabled","ClapEmpty","fillRule","p","svg","triangleFade","TRIANGLES","count","size","CIRCLES","Medium","triangles","transformOrigin","marginLeft","borderLeft","borderRight","borderTop","circles","Icon","templates","ClapButton","hideCounterIfLessThan","component","onLoad","onPress","useContext","setResponse","camelizeKeys","error","props","Component","ThumbIcon","userLiked","totalLikes","iconStyle","TwitterHeartFull","TwitterHeartEmpty","dotsRotContainer","dotsContainer","animationTimingFunction","dotBurst","DOTS","HEART","Twitter","dots","LikeButton","mr","minWidth","textAlign","upInactive","upActive","downInactive","downActive","userVoteDirection","totalScore","handlePressUp","handlePressDown","animationActiveUp","setAnimationActiveUp","animationActiveDown","setAnimationActiveDown","handleClickUp","handleClickDown","iconStyleUp","iconStyleDown","ringStyleUp","ringStyleDown","RedditArrow","version","preserveAspectRatio","stroke","flexDirection","mt","mb","lightGray","darkGray","blue","red","Reddit","UpdownButton","onPressUp","onPressDown"],"mappings":"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","sourcesContent":["export const getSessionId = () => {\n  if (typeof window === 'undefined') {\n    throw new Error('Session ID cannot be generated server-side!');\n  }\n\n  //TODO: remove sessionId legacy name\n  const legacySessionId = window.localStorage.getItem('sessionId');\n\n  if (legacySessionId) {\n    window.localStorage.setItem('lyket-session-id', legacySessionId);\n    window.localStorage.removeItem('sessionId');\n  }\n\n  const sessionId = window.localStorage.getItem('lyket-session-id');\n\n  if (sessionId) {\n    return sessionId;\n  }\n\n  const newSessionId =\n    Math.random()\n      .toString(36)\n      .substring(2, 15) +\n    Math.random()\n      .toString(36)\n      .substring(2, 15);\n\n  window.localStorage.setItem('lyket-session-id', newSessionId);\n\n  return newSessionId;\n};\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","type Options = Partial<{\n  async: boolean;\n  integrity: string;\n  type: string;\n}>;\n\nexport function lazyLoadScript(src: string, opts: Options = {}) {\n  return new Promise(function(resolve, reject) {\n    const { async, integrity, type } = opts;\n\n    const sc = document.querySelector(`script[src=\"${src}\"]`);\n\n    if (sc) {\n      resolve(sc);\n      return;\n    }\n\n    const script = document.createElement('script');\n    script.src = src;\n\n    if (async) script.setAttribute('async', 'true');\n    if (integrity) script.setAttribute('integrity', integrity);\n    if (type) script.setAttribute('type', type);\n\n    script.onload = () => resolve(script);\n    script.onerror = event => reject(event);\n\n    document.body.appendChild(script);\n  });\n}\n","import { lazyLoadScript } from './lazyLoadScript';\n\ndeclare const grecaptcha: any;\n\nexport function generateRecaptchaToken(\n  siteKey: string,\n  action: string\n): Promise<string> {\n  return lazyLoadScript(\n    `https://www.google.com/recaptcha/api.js?render=${siteKey}`\n  ).then(\n    () =>\n      new Promise((resolve, reject) => {\n        grecaptcha.ready(async () => {\n          try {\n            const token = await grecaptcha.execute(siteKey, {\n              action,\n            });\n            resolve(token);\n          } catch (e) {\n            console.error('recaptcha error!', e);\n            reject(e);\n          }\n        });\n      })\n  );\n}\n","export class ApiError extends Error {\n  requestInfo: RequestInfo;\n  requestInit: RequestInit;\n  response: Response;\n\n  constructor(\n    requestInfo: RequestInfo,\n    requestInit: RequestInit,\n    response: Response\n  ) {\n    super(\n      `Failed API request to ${requestInfo} with status ${response.status}`\n    );\n\n    this.requestInfo = requestInfo;\n    this.requestInit = requestInit;\n    this.response = response;\n  }\n}\n","const now = () => new Date().getTime();\n\ntype Deferred = {\n  resolve: (value: any) => void;\n  reject: (value: any) => void;\n};\n\nexport function debounceCollect<Args extends Array<any>>(\n  func: (calls: Array<Args>) => Promise<Array<any>>,\n  wait: number\n) {\n  let timer: NodeJS.Timeout | null;\n  let timestamp: number;\n\n  let args: Array<Args> = [];\n  let deferreds: Array<Deferred> = [];\n\n  async function onTimeout() {\n    let elapsed = now() - timestamp;\n\n    if (elapsed < wait && elapsed > 0) {\n      timer = setTimeout(onTimeout, wait - elapsed);\n    } else {\n      timer = null;\n      await call();\n      if (!timer) reset();\n    }\n  }\n\n  async function call() {\n    const results = await func.call(null, args);\n\n    for (let i = 0; i < results.length; i++) {\n      deferreds[i].resolve(results[i]);\n    }\n  }\n\n  function reset() {\n    args = [];\n    deferreds = [];\n  }\n\n  return function debounced(...callArgs: Args): Promise<any> {\n    args.push(callArgs);\n\n    timestamp = now();\n\n    if (!timer) timer = setTimeout(onTimeout, wait);\n\n    return new Promise((resolve, reject) => {\n      deferreds.push({ resolve, reject });\n    });\n  };\n}\n","import { getSessionId } from './sessionId';\nimport { generateRecaptchaToken } from './generateRecaptchaToken';\nimport { ApiError } from './ApiError';\nimport { debounceCollect } from './debounceCollect';\n\nexport type ConstructorArguments = {\n  apiKey: string;\n  recaptchaSiteKey?: string;\n  baseUrl?: string;\n  disableSessionId?: boolean;\n};\n\nclass LikeButtonClient {\n  client: Client;\n\n  constructor(client: Client) {\n    this.client = client;\n  }\n\n  press({\n    id,\n    namespace,\n  }: Paths.LikeButtonPress.PathParameters): Promise<\n    Paths.LikeButtonPress.Responses.$200\n  > {\n    return this.client.put(\n      namespace\n        ? `/like-buttons/${namespace}/${id}/press`\n        : `/like-buttons/${id}/press`,\n      'press'\n    );\n  }\n\n  info({\n    id,\n    namespace,\n  }: Paths.LikeButtonInfo.PathParameters): Promise<\n    Paths.LikeButtonInfo.Responses.$200\n  > {\n    return this.client.enqueueToBatch(\n      namespace ? `/like-buttons/${namespace}/${id}` : `/like-buttons/${id}`\n    );\n  }\n}\n\nclass ClapButtonClient {\n  client: Client;\n\n  constructor(client: Client) {\n    this.client = client;\n  }\n\n  press({\n    id,\n    namespace,\n  }: Paths.ClapButtonPress.PathParameters): Promise<\n    Paths.ClapButtonPress.Responses.$200\n  > {\n    return this.client.put(\n      namespace\n        ? `/clap-buttons/${namespace}/${id}/press`\n        : `/clap-buttons/${id}/press`,\n      'press'\n    );\n  }\n\n  info({\n    id,\n    namespace,\n  }: Paths.ClapButtonInfo.PathParameters): Promise<\n    Paths.ClapButtonInfo.Responses.$200\n  > {\n    return this.client.enqueueToBatch(\n      namespace ? `/clap-buttons/${namespace}/${id}` : `/clap-buttons/${id}`\n    );\n  }\n}\n\nclass UpdownButtonClient {\n  client: Client;\n\n  constructor(client: Client) {\n    this.client = client;\n  }\n\n  info({\n    id,\n    namespace,\n  }: Paths.UpdownButtonInfo.PathParameters): Promise<\n    Paths.UpdownButtonInfo.Responses.$200\n  > {\n    return this.client.enqueueToBatch(\n      namespace ? `/updown-buttons/${namespace}/${id}` : `/updown-buttons/${id}`\n    );\n  }\n\n  pressUp({\n    id,\n    namespace,\n  }: Paths.UpdownButtonPressUp.PathParameters): Promise<\n    Paths.UpdownButtonPressUp.Responses.$200\n  > {\n    return this.client.put(\n      namespace\n        ? `/updown-buttons/${namespace}/${id}/press-up`\n        : `/updown-buttons/${id}/press-up`,\n      'pressUp'\n    );\n  }\n\n  pressDown({\n    id,\n    namespace,\n  }: Paths.UpdownButtonPressDown.PathParameters): Promise<\n    Paths.UpdownButtonPressDown.Responses.$200\n  > {\n    return this.client.put(\n      namespace\n        ? `/updown-buttons/${namespace}/${id}/press-down`\n        : `/updown-buttons/${id}/press-down`,\n      'pressDown'\n    );\n  }\n}\n\nexport class Client {\n  apiKey: string;\n  baseUrl: string;\n  disableSessionId: boolean;\n  recaptchaSiteKey: string | undefined;\n  likeButtons: LikeButtonClient;\n  clapButtons: ClapButtonClient;\n  updownButtons: UpdownButtonClient;\n  enqueueToBatch: (url: string) => Promise<any>;\n\n  constructor({\n    apiKey,\n    recaptchaSiteKey,\n    baseUrl,\n    disableSessionId,\n  }: ConstructorArguments) {\n    this.apiKey = apiKey;\n    this.recaptchaSiteKey = recaptchaSiteKey;\n    this.disableSessionId = disableSessionId;\n    this.baseUrl = baseUrl || 'https://api.lyket.dev';\n\n    this.likeButtons = new LikeButtonClient(this);\n    this.clapButtons = new ClapButtonClient(this);\n    this.updownButtons = new UpdownButtonClient(this);\n\n    this.enqueueToBatch = debounceCollect<[string]>(this.batch.bind(this), 500);\n  }\n\n  get(url: string) {\n    return this.request(url);\n  }\n\n  async batch(calls: Array<[string]>) {\n    // return Promise.all(calls.map(args => this.request(args[0])));\n    const url: RequestInfo = '/buttons/batch';\n\n    const result = await this.request(url, {\n      method: 'POST',\n      body: {\n        type: 'batch',\n        data: {\n          attributes: { urls: calls.map(args => args[0]) },\n        },\n      },\n    });\n\n    return result.data.attributes.responses;\n  }\n\n  put(url: string, recaptchaAction: string) {\n    return this.request(url, { method: 'PUT', recaptchaAction });\n  }\n\n  async request(\n    input: string,\n    init?: {\n      method: string;\n      body?: Record<string, any>;\n      recaptchaAction?: string;\n      headers?: Record<string, string>;\n    }\n  ) {\n    if (typeof window === 'undefined') {\n      throw 'Client is supposed to be used client-side only!';\n    }\n\n    const defaultHeaders: Record<string, string> = {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${this.apiKey}`,\n    };\n\n    if (!this.disableSessionId) {\n      defaultHeaders['x-session-id'] = getSessionId();\n    }\n\n    if (this.recaptchaSiteKey && init && init.recaptchaAction) {\n      defaultHeaders['x-recaptcha-token'] = await generateRecaptchaToken(\n        this.recaptchaSiteKey,\n        init.recaptchaAction\n      );\n    }\n\n    const url: RequestInfo = `${this.baseUrl}/v1${input}`;\n    const requestInit: RequestInit = init\n      ? {\n          ...init,\n          headers: { ...defaultHeaders, ...init.headers },\n          body: init.body && JSON.stringify(init.body),\n        }\n      : { headers: defaultHeaders };\n\n    const response = await fetch(url, requestInit);\n\n    if (response.status < 200 || response.status >= 300) {\n      throw new ApiError(url, requestInit, response);\n    }\n\n    return response.json();\n  }\n}\n","import React from 'react';\nimport { Client } from '../Client';\n\nexport const ClientContext = React.createContext<Client | null>(null);\n","export type ThemeRecord = {\n  colors?: Colors;\n  fonts?: Fonts;\n};\n\ntype Colors = {\n  background?: string;\n  text?: string;\n  primary?: string;\n  secondary?: string;\n  highlight?: string;\n};\n\ntype Fonts = {\n  body?: string;\n};\n\nexport const defaultTheme: ThemeRecord = {\n  colors: {\n    background: 'transparent',\n    text: '#292929',\n    primary: '#BFFCED',\n    secondary: '#FBDEFB',\n    highlight: '#e095ed',\n  },\n  fonts: {\n    body: 'inherit',\n  },\n};\n","/* @jsx jsx */\n\nimport { FC, HTMLAttributes, ReactChild, useState, useEffect } from 'react';\nimport { jsx, ThemeProvider } from 'theme-ui';\nimport { Client, ConstructorArguments } from './Client';\nimport { ClientContext } from './contexts/ClientContext';\nimport { defaultTheme, ThemeRecord } from './theme';\n\nexport interface ProviderProps extends HTMLAttributes<HTMLDivElement> {\n  apiKey: string;\n  recaptchaSiteKey?: string;\n  disableSessionId?: boolean;\n  baseUrl?: string;\n  children?: ReactChild;\n  theme?: ThemeRecord | null;\n}\n\nconst clientInstances: Record<string, Client> = {};\n\nconst getClientInstanceForSettings = (settings: ConstructorArguments) => {\n  const key = JSON.stringify(settings);\n\n  if (clientInstances[key]) {\n    return clientInstances[key];\n  }\n\n  const client = new Client(settings);\n  clientInstances[key] = client;\n  return client;\n};\n\nexport const Provider: FC<ProviderProps> = ({\n  apiKey,\n  recaptchaSiteKey,\n  disableSessionId,\n  baseUrl,\n  children,\n  theme: customTheme,\n}) => {\n  const [client, setClient] = useState<Client>(\n    getClientInstanceForSettings({\n      apiKey,\n      recaptchaSiteKey,\n      disableSessionId,\n      baseUrl,\n    })\n  );\n\n  useEffect(() => {\n    setClient(\n      getClientInstanceForSettings({\n        apiKey,\n        recaptchaSiteKey,\n        disableSessionId,\n        baseUrl,\n      })\n    );\n  }, [apiKey, disableSessionId, recaptchaSiteKey, baseUrl]);\n\n  const theme = customTheme || { colors: {}, fonts: {} };\n  const colors = { ...defaultTheme.colors, ...theme.colors };\n  const fonts = { ...defaultTheme.fonts, ...theme.fonts };\n\n  return (\n    <ThemeProvider\n      theme={{\n        useBodyStyles: false,\n        useLocalStorage: false,\n        colors,\n        fonts,\n        styles: {},\n      }}\n    >\n      <ClientContext.Provider value={client}>{children}</ClientContext.Provider>\n    </ThemeProvider>\n  );\n};\n","import React, { useState, useEffect } from 'react';\n\ntype PromiseFactory = () => Promise<any>;\n\nexport const useSafeEffect = (\n  effect: PromiseFactory,\n  deps?: React.DependencyList | undefined\n) => {\n  const setState = useState<boolean>()[1];\n\n  return useEffect(() => {\n    async function safeRunner() {\n      try {\n        await effect();\n      } catch (e) {\n        setState(() => {\n          throw e;\n        });\n      }\n    }\n\n    safeRunner();\n  }, deps);\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 29 29\" aria-label=\"clap\" className={className}>\n    <path d=\"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\"></path>\n    <path d=\"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\"></path>\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    color: 'text',\n    fontWeight: 'body',\n    fontFamily: 'body',\n  },\n  icon: {\n    height: '2em',\n    display: 'block',\n    margin: '0 auto',\n    fill: 'text',\n  },\n  ring: {\n    opacity: '0',\n    width: `90%`,\n    height: `90%`,\n    borderRadius: `3em`,\n    border: `1px solid`,\n    borderColor: 'highlight',\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100%',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '3em',\n    height: '3em',\n    padding: '0',\n    lineHeight: '1em',\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    fontSize: '.8em',\n    height: '3.4em',\n    width: '3.4em',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    backgroundColor: 'text',\n    borderRadius: '100%',\n    top: '-3em',\n    left: '-1.7em',\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n};\n","export default {\n  buttons: {\n    inactive: {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      backgroundColor: 'background',\n    },\n    active: {\n      backgroundColor: 'primary',\n    },\n  },\n};\n","/* @jsx jsx */\n\nimport { jsx, ThemeProvider } from 'theme-ui';\nimport { ClapButtonTemplateComponentProps } from '../..';\nimport { ClapFull } from './icons/ClapFull';\nimport { keyframes } from '@emotion/core';\nimport { FC, useCallback, useState, useRef } from 'react';\nimport { style } from './style';\nimport theme from './theme';\n\nconst baloonFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-1em)',\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-4em)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-6em)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(0)',\n  },\n  '52%': {\n    transform: 'scale(1.2)',\n  },\n  '72%': {\n    transform: 'scale(0.9)',\n  },\n  '100%': {\n    transform: 'scale(1)',\n  },\n});\n\nconst ringScale = keyframes({\n  '0%': {\n    opacity: '1',\n    borderWidth: '0.5em',\n  },\n  '52%': {\n    opacity: '0',\n    borderWidth: '0',\n  },\n});\n\nconst BALOON = {\n  durationMs: 800,\n  animation: baloonFade,\n};\n\nconst ICON = {\n  durationMs: 500,\n  animation: iconScale,\n};\n\nconst RING = {\n  durationMs: 600,\n  animation: ringScale,\n};\n\nexport const Simple: FC<ClapButtonTemplateComponentProps> = ({\n  isLoading,\n  userClaps,\n  totalClaps,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnimationActive(true);\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n      timeoutId.current = setTimeout(\n        () => setAnimationActive(false),\n        BALOON.durationMs\n      );\n      handlePress(e);\n    },\n    [handlePress]\n  );\n\n  const ringStyle = {\n    ...style.ring,\n    ...{\n      animation: animationActive\n        ? `${RING.animation} ${RING.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div sx={style.root}>\n        <button\n          onClick={handleClick}\n          sx={{\n            ...style.button,\n            ...{\n              variant: userClaps ? 'buttons.active' : 'buttons.inactive',\n              '@media (hover: hover)': {\n                ':hover': {\n                  variant: 'buttons.active',\n                },\n              },\n            },\n          }}\n          disabled={isLoading}\n        >\n          <div sx={style.centeredContainer}>\n            <div\n              key={timeoutId.current && timeoutId.current.toString()}\n              sx={{\n                ...style.baloon,\n                ...{\n                  animation: animationActive\n                    ? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n                    : null,\n                },\n              }}\n            >\n              {userClaps}\n            </div>\n          </div>\n          <div sx={ringStyle} />\n          <ClapFull\n            sx={{\n              ...style.icon,\n              ...{\n                animation: animationActive\n                  ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n                  : null,\n              },\n            }}\n          />\n        </button>\n        {isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n      </div>\n    </ThemeProvider>\n  );\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapEmpty = ({ className }: Props) => (\n  <svg viewBox=\"0 0 33 33\" aria-label=\"clap\" className={className}>\n    <path\n      d=\"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z\"\n      fillRule=\"evenodd\"\n    ></path>\n  </svg>\n);\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ClapFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 29 29\" aria-label=\"clap\" className={className}>\n    <path d=\"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z\"></path>\n    <path d=\"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z\"></path>\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.2em',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    p: 0,\n    '@media (hover: hover)': {\n      ':hover': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1.1)',\n        },\n      },\n      ':active': {\n        svg: {\n          transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n          transform: 'scale(1.1)',\n        },\n      },\n    },\n  },\n  baloon: {\n    opacity: '0',\n    position: 'absolute',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    fontSize: '.8em',\n    height: '3.4em',\n    width: '3.4em',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: 'white',\n    background: '#292929',\n    borderRadius: '100%',\n    top: '-3em',\n    left: '-1.7em',\n  },\n  centeredContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n};\n","/* @jsx jsx */\n\nimport { jsx } from 'theme-ui';\nimport { ClapButtonTemplateComponentProps } from '../..';\nimport { ClapEmpty } from './icons/ClapEmpty';\nimport { ClapFull } from './icons/ClapFull';\nimport { keyframes } from '@emotion/core';\nimport { FC, useCallback, useState, useRef } from 'react';\nimport { style } from './style';\n\nconst baloonFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-1em)',\n  },\n  '72%': {\n    opacity: '1',\n    transform: 'translateY(-4em)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-6em)',\n  },\n});\n\nconst triangleFade = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)',\n  },\n  '32%': {\n    opacity: '1',\n    transform: 'translateY(-1em) scale(1.3)',\n  },\n  '100%': {\n    opacity: '0',\n    transform: 'translateY(-2em) scale(1.6)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(1)',\n  },\n  '32%': {\n    transform: 'scale(1.15)',\n  },\n  '100%': {\n    transform: 'scale(1.1)',\n  },\n});\n\nconst BALOON = {\n  durationMs: 800,\n  animation: baloonFade,\n};\n\nconst TRIANGLES = {\n  count: 5,\n  size: 0.2,\n  color: '#ff365e',\n  durationMs: 300,\n  animation: triangleFade,\n};\n\nconst CIRCLES = {\n  count: 5,\n  size: 0.05,\n  color: '#4086ff',\n  durationMs: 500,\n  animation: triangleFade,\n};\n\nconst ICON = {\n  durationMs: CIRCLES.durationMs,\n  animation: iconScale,\n};\nexport const Medium: FC<ClapButtonTemplateComponentProps> = ({\n  isLoading,\n  userClaps,\n  totalClaps,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const triangles = [];\n  for (let i = 0; i < TRIANGLES.count; i++) {\n    triangles.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / TRIANGLES.count) * i}deg)`,\n          transformOrigin: `${TRIANGLES.size}em 0`,\n          marginLeft: `-${TRIANGLES.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            width: '0',\n            height: '0',\n            opacity: '0',\n            borderLeft: `${TRIANGLES.size}em solid transparent`,\n            borderRight: `${TRIANGLES.size}em solid transparent`,\n            borderTop: `${TRIANGLES.size}em solid ${TRIANGLES.color}`,\n            position: 'absolute',\n            animation: animationActive\n              ? `${triangleFade} ${TRIANGLES.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const circles = [];\n  for (let i = 0; i < CIRCLES.count; i++) {\n    circles.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / CIRCLES.count) * i}deg)`,\n          transformOrigin: `${CIRCLES.size}em 0`,\n          marginLeft: `-${CIRCLES.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            width: '0',\n            height: '0',\n            opacity: '0',\n            padding: `${CIRCLES.size}em`,\n            backgroundColor: `${CIRCLES.color}`,\n            borderRadius: '100%',\n            position: 'absolute',\n            animation: animationActive\n              ? `${triangleFade} ${CIRCLES.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      setAnimationActive(true);\n      if (timeoutId.current) {\n        clearTimeout(timeoutId.current);\n      }\n      timeoutId.current = setTimeout(\n        () => setAnimationActive(false),\n        BALOON.durationMs\n      );\n      handlePress(e);\n    },\n    [handlePress]\n  );\n\n  const Icon = userClaps && userClaps > 0 ? ClapFull : ClapEmpty;\n\n  return (\n    <div sx={style.root}>\n      <button onClick={handleClick} sx={style.button} disabled={isLoading}>\n        <div sx={style.centeredContainer}> {triangles} </div>\n        <div sx={style.centeredContainer}> {circles} </div>\n        <div sx={style.centeredContainer}>\n          <div\n            key={timeoutId.current && timeoutId.current.toString()}\n            sx={{\n              ...style.baloon,\n              ...{\n                animation: animationActive\n                  ? `${BALOON.animation} ${BALOON.durationMs}ms ease forwards`\n                  : null,\n              },\n            }}\n          >\n            {userClaps}\n          </div>\n        </div>\n        <Icon\n          sx={{\n            fill: isLoading ? '#aaa' : 'auto',\n            height: '3em',\n            transition: 'all 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n            animation: animationActive\n              ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </button>\n      {isCounterVisible && <div sx={style.counter}>{totalClaps}</div>}\n    </div>\n  );\n};\n","import React, { FC, useCallback, useContext, useState } from 'react';\nimport { ClientContext } from '../contexts/ClientContext';\nimport { useSafeEffect } from '../hooks/useSafeEffect';\nimport { Simple } from './templates/Simple';\nimport { Medium } from './templates/Medium';\nimport { camelizeKeys } from 'humps';\n\nconst templates = {\n  Simple,\n  Medium,\n};\n\nexport interface ClapButtonTemplateComponentProps {\n  isLoading: boolean;\n  userClaps: number | undefined;\n  totalClaps: number | undefined;\n  handlePress: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  isCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.ClapButton['data'];\n\nexport interface ClapButtonProps {\n  id: string;\n  namespace?: string;\n  hideCounterIfLessThan?: number;\n  onLoad?: (props: CallbackProps) => void;\n  onPress?: (props: CallbackProps) => void;\n  children?: (\n    props: ClapButtonTemplateComponentProps\n  ) => React.ReactElement<any, any> | null;\n  component?: React.ComponentType<ClapButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n  templates: {\n    Simple: React.ComponentType<ClapButtonTemplateComponentProps>;\n    Medium: React.ComponentType<ClapButtonTemplateComponentProps>;\n  };\n};\n\nconst ClapButton: FCWithTemplates<ClapButtonProps> = ({\n  id,\n  namespace,\n  hideCounterIfLessThan,\n  children,\n  component,\n  onLoad,\n  onPress,\n}) => {\n  const client = useContext(ClientContext);\n\n  const [response, setResponse] = useState<\n    Components.Schemas.ClapButton['data'] | null\n  >(null);\n\n  useSafeEffect(async () => {\n    try {\n      if (client) {\n        const result = await client.clapButtons.info({ id, namespace });\n        setResponse(result.data);\n\n        if (onLoad) {\n          onLoad(camelizeKeys(result.data));\n        }\n      }\n    } catch (error) {\n      console.error('Lyket error:', error);\n      throw error;\n    }\n  }, [client, id, namespace]);\n\n  const handlePress = useCallback(\n    async (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      e.preventDefault();\n\n      try {\n        if (client) {\n          const result = await client.clapButtons.press({ id, namespace });\n          setResponse(result.data);\n\n          if (onPress) {\n            onPress(camelizeKeys(result.data));\n          }\n        }\n      } catch (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }\n    },\n    [client, id, namespace]\n  );\n\n  let isCounterVisible = true;\n\n  if (\n    !response ||\n    (hideCounterIfLessThan &&\n      response &&\n      response.attributes.total_claps < hideCounterIfLessThan)\n  ) {\n    isCounterVisible = false;\n  }\n\n  const props = {\n    isLoading: !response,\n    totalClaps: (response && response.attributes.total_claps) || 0,\n    userClaps: (response && response.attributes.user_claps) || 0,\n    handlePress,\n    isCounterVisible,\n  };\n\n  if (children) {\n    return children(props);\n  }\n\n  const Component = component || Simple;\n\n  return <Component {...props} />;\n};\n\nClapButton.templates = templates;\n\nexport { ClapButton };\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ThumbIcon = ({ className }: Props) => (\n  <svg id=\"ThumUpWiki\" viewBox=\"0 0 215.34 215.34\" className={className}>\n    <path d=\"M7.67,93.896h52.077V215.34H7.67V93.896z M207.67,106.682c-7.189-7.189-14.382-14.379-21.572-21.57h-41.451l9.877-25.102  l2.801-7.119l-0.258-2.049L151,2.33L121.115,0L110.15,37.822L80.954,85.176V215.34h107.89L207.67,106.682z\" />\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    color: 'text',\n    fontFamily: 'body',\n    fontWeight: 'body',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: 'text',\n  },\n  ring: {\n    opacity: '0',\n    width: `90%`,\n    height: `90%`,\n    borderRadius: `3em`,\n    border: `1px solid`,\n    borderColor: 'highlight',\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100%',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '3em',\n    height: '3em',\n    padding: '0',\n    lineHeight: '1em',\n  },\n};\n","export default {\n  buttons: {\n    inactive: {\n      backgroundColor: 'background',\n    },\n    active: {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      backgroundColor: 'primary',\n    },\n  },\n};\n","/* @jsx jsx */\n\nimport { jsx, ThemeProvider } from 'theme-ui';\nimport { LikeButtonTemplateComponentProps } from '../..';\nimport { ThumbIcon } from './icons/ThumbIcon';\nimport { keyframes } from '@emotion/core';\nimport { FC, useCallback, useState } from 'react';\nimport { style } from './style';\nimport theme from './theme';\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(0)',\n  },\n  '52%': {\n    transform: 'scale(1.2)',\n  },\n  '72%': {\n    transform: 'scale(0.9)',\n  },\n  '100%': {\n    transform: 'scale(1)',\n  },\n});\n\nconst ringScale = keyframes({\n  '0%': {\n    opacity: '1',\n    borderWidth: '0.5em',\n  },\n  '52%': {\n    opacity: '0',\n    borderWidth: '0',\n  },\n});\n\nconst RING = {\n  durationMs: 600,\n  animation: ringScale,\n};\n\nconst ICON = {\n  animation: iconScale,\n  durationMs: 700,\n};\n\nexport const Simple: FC<LikeButtonTemplateComponentProps> = ({\n  isLoading,\n  userLiked,\n  totalLikes,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      handlePress(e);\n\n      if (!userLiked) {\n        setAnimationActive(true);\n        setTimeout(() => setAnimationActive(false), ICON.durationMs);\n      }\n    },\n    [userLiked, handlePress]\n  );\n\n  const iconStyle = {\n    ...style.icon,\n    ...{\n      animation: animationActive\n        ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  const ringStyle = {\n    ...style.ring,\n    ...{\n      animation: animationActive\n        ? `${RING.animation} ${RING.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div sx={style.root}>\n        <button\n          onClick={handleClick}\n          disabled={isLoading}\n          sx={{\n            ...style.button,\n            ...{\n              variant: userLiked ? 'buttons.active' : 'buttons.inactive',\n              '@media (hover: hover)': {\n                ':hover': {\n                  variant: 'buttons.active',\n                },\n              },\n            },\n          }}\n        >\n          <div sx={ringStyle} />\n          <ThumbIcon sx={iconStyle} />\n        </button>\n        {isCounterVisible && <div sx={style.counter}>{totalLikes}</div>}\n      </div>\n    </ThemeProvider>\n  );\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const TwitterHeartFull = ({ className }: Props) => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <g>\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\"></path>\n    </g>\n  </svg>\n);\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const TwitterHeartEmpty = ({ className }: Props) => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <g>\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\"></path>\n    </g>\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.2em',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100%',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '3em',\n    height: '3em',\n    padding: '0',\n    lineHeight: '1em',\n    '@media (hover: hover)': {\n      ':hover': {\n        transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n        backgroundColor: '#E5214A20',\n      },\n    },\n  },\n  dotsRotContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  dotsContainer: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%) rotate(165deg)',\n  },\n  ring: {\n    opacity: '0',\n    width: `90%`,\n    height: `90%`,\n    borderRadius: `3em`,\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  icon: {\n    height: '2em',\n    display: 'block',\n    margin: '0 auto',\n    animationTimingFunction: 'cubic-bezier(0.280, 0.840, 0.420, 1)',\n  },\n};\n","/* @jsx jsx */\n\nimport { jsx } from 'theme-ui';\nimport { LikeButtonTemplateComponentProps } from '../..';\nimport { TwitterHeartFull } from './icons/TwitterHeartFull';\nimport { TwitterHeartEmpty } from './icons/TwitterHeartEmpty';\nimport { keyframes } from '@emotion/core';\nimport { FC, useCallback, useState } from 'react';\nimport { style } from './style';\n\nconst dotBurst = keyframes({\n  '0%': {\n    opacity: '0',\n    transform: 'translateY(-0.5em) scale(1)',\n  },\n  '52%': {\n    opacity: '1',\n    transform: 'translateY(-1.6em) scale(1.3)',\n  },\n  '100%': {\n    transform: 'translateY(-2.7em) scale(0)',\n  },\n});\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(0)',\n  },\n  '52%': {\n    transform: 'scale(1.2)',\n  },\n  '72%': {\n    transform: 'scale(0.9)',\n  },\n  '100%': {\n    transform: 'scale(1)',\n  },\n});\n\nconst ringScale = keyframes({\n  '0%': {\n    opacity: '1',\n    borderWidth: '0.5em',\n  },\n  '52%': {\n    opacity: '0',\n    borderWidth: '0',\n  },\n});\n\nconst DOTS = {\n  count: 6,\n  size: 0.2,\n  colors: [\n    'lightcoral',\n    'yellow',\n    'pink',\n    'lightseagreen',\n    'orange',\n    'aliceblue',\n  ],\n  durationMs: 600,\n  animation: dotBurst,\n};\n\nconst RING = {\n  color: '#e095ed',\n  durationMs: DOTS.durationMs,\n  animation: ringScale,\n};\n\nconst HEART = {\n  animation: iconScale,\n  durationMs: 700,\n};\n\nexport const Twitter: FC<LikeButtonTemplateComponentProps> = ({\n  isLoading,\n  userLiked,\n  totalLikes,\n  handlePress,\n  isCounterVisible,\n}) => {\n  const [animationActive, setAnimationActive] = useState<boolean>(false);\n\n  const dots = [];\n  for (let i = 0; i < DOTS.count; i++) {\n    dots.push(\n      <div\n        key={i}\n        sx={{\n          transform: `rotate(${(360 / DOTS.count) * i}deg)`,\n          transformOrigin: `${DOTS.size}em 0`,\n          marginLeft: `-${DOTS.size}em`,\n        }}\n      >\n        <div\n          sx={{\n            opacity: '0',\n            width: `${DOTS.size}em`,\n            height: `${DOTS.size}em`,\n            borderRadius: `${DOTS.size}em`,\n            backgroundColor: `${DOTS.colors[i]}`,\n            position: 'absolute',\n            animation: animationActive\n              ? `${dotBurst} ${DOTS.durationMs}ms ease forwards`\n              : null,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const ring = (\n    <div\n      sx={{\n        ...style.ring,\n        ...{\n          border: `1px solid ${RING.color}`,\n          animation: animationActive\n            ? `${RING.animation} ${RING.durationMs}ms ease forwards`\n            : null,\n        },\n      }}\n    />\n  );\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      if (!userLiked) {\n        setAnimationActive(true);\n        setTimeout(() => setAnimationActive(false), DOTS.durationMs);\n      }\n      handlePress(e);\n    },\n    [userLiked, handlePress]\n  );\n\n  const Icon = userLiked ? TwitterHeartFull : TwitterHeartEmpty;\n\n  return (\n    <div sx={style.root}>\n      <button onClick={handleClick} sx={style.button} disabled={isLoading}>\n        <div sx={style.dotsContainer}> {dots} </div>\n        <div sx={style.dotsRotContainer}> {dots} </div>\n        {ring}\n        <Icon\n          sx={{\n            ...style.icon,\n            ...{\n              fill: isLoading ? '#aaa' : '#E5214A',\n              animation: animationActive\n                ? `${HEART.animation} ${HEART.durationMs}ms ease forwards`\n                : null,\n            },\n          }}\n        />\n      </button>\n      {isCounterVisible && <div sx={style.counter}>{totalLikes}</div>}\n    </div>\n  );\n};\n","import React, { FC, useCallback, useContext, useState } from 'react';\nimport { ClientContext } from '../contexts/ClientContext';\nimport { useSafeEffect } from '../hooks/useSafeEffect';\nimport { Simple } from './templates/Simple';\nimport { Twitter } from './templates/Twitter';\nimport { camelizeKeys } from 'humps';\n\nconst templates = {\n  Simple,\n  Twitter,\n};\n\nexport interface LikeButtonTemplateComponentProps {\n  isLoading: boolean;\n  userLiked: boolean | undefined;\n  totalLikes: number | undefined;\n  handlePress: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  isCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.LikeButton['data'];\n\nexport interface LikeButtonProps {\n  id: string;\n  namespace?: string;\n  hideCounterIfLessThan?: number;\n  onLoad?: (props: CallbackProps) => void;\n  onPress?: (props: CallbackProps) => void;\n  children?: (\n    props: LikeButtonTemplateComponentProps\n  ) => React.ReactElement<any, any> | null;\n  component?: React.ComponentType<LikeButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n  templates: {\n    Simple: React.ComponentType<LikeButtonTemplateComponentProps>;\n    Twitter: React.ComponentType<LikeButtonTemplateComponentProps>;\n  };\n};\n\nconst LikeButton: FCWithTemplates<LikeButtonProps> = ({\n  id,\n  namespace,\n  hideCounterIfLessThan,\n  children,\n  component,\n  onLoad,\n  onPress,\n}) => {\n  const client = useContext(ClientContext);\n\n  const [response, setResponse] = useState<\n    Components.Schemas.LikeButton['data'] | null\n  >(null);\n\n  useSafeEffect(async () => {\n    try {\n      if (client) {\n        const result = await client.likeButtons.info({ id, namespace });\n        setResponse(result.data);\n\n        if (onLoad) {\n          onLoad(camelizeKeys(result.data));\n        }\n      }\n    } catch (error) {\n      console.error('Lyket error:', error);\n      throw error;\n    }\n  }, [client, id, namespace, onLoad]);\n\n  const handlePress = useCallback(\n    async (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      e.preventDefault();\n      if (!client) {\n        return;\n      }\n\n      try {\n        const result = await client.likeButtons.press({ id, namespace });\n        setResponse(result.data);\n\n        if (onPress) {\n          onPress(camelizeKeys(result.data));\n        }\n      } catch (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }\n    },\n    [client, id, namespace, onPress]\n  );\n\n  let isCounterVisible = true;\n\n  if (\n    !response ||\n    (hideCounterIfLessThan &&\n      response &&\n      response.attributes.total_likes < hideCounterIfLessThan)\n  ) {\n    isCounterVisible = false;\n  }\n\n  const props = {\n    isLoading: !response,\n    totalLikes: (response && response.attributes.total_likes) || 0,\n    userLiked: (response && response.attributes.user_has_liked) || false,\n    handlePress,\n    isCounterVisible,\n  };\n\n  if (children) {\n    return children(props);\n  }\n\n  const Component = component || Simple;\n\n  return <Component {...props} />;\n};\n\nLikeButton.templates = templates;\n\nexport { LikeButton };\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const ThumbIcon = ({ className }: Props) => (\n  <svg viewBox=\"0 0 215.34 215.34\" className={className}>\n    <path d=\"M7.67,93.896h52.077V215.34H7.67V93.896z M207.67,106.682c-7.189-7.189-14.382-14.379-21.572-21.57h-41.451l9.877-25.102  l2.801-7.119l-0.258-2.049L151,2.33L121.115,0L110.15,37.822L80.954,85.176V215.34h107.89L207.67,106.682z\" />\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n  },\n  counter: {\n    ml: '.5em',\n    mr: '.5em',\n    minWidth: '2em',\n    color: 'text',\n    textAlign: 'center',\n    fontFamily: 'body',\n    fontWeight: 'body',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    fill: 'text',\n  },\n  ring: {\n    opacity: '0',\n    width: `90%`,\n    height: `90%`,\n    borderRadius: `3em`,\n    border: `1px solid`,\n    borderColor: 'highlight',\n    boxSizing: 'border-box',\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '100%',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '3em',\n    height: '3em',\n    padding: '0',\n    lineHeight: '1em',\n  },\n};\n","export default {\n  buttons: {\n    upInactive: {\n      backgroundColor: 'background',\n    },\n    upActive: {\n      backgroundColor: 'primary',\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    },\n    downInactive: {\n      backgroundColor: 'background',\n    },\n    downActive: {\n      transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n      backgroundColor: 'secondary',\n    },\n  },\n};\n","/* @jsx jsx */\n\nimport { jsx, ThemeProvider } from 'theme-ui';\nimport { UpdownButtonTemplateComponentProps } from '../..';\nimport { ThumbIcon } from './icons/ThumbIcon';\nimport { keyframes } from '@emotion/core';\nimport { FC, useCallback, useState } from 'react';\nimport { style } from './style';\nimport theme from './theme';\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(0)',\n  },\n  '52%': {\n    transform: 'scale(1.2)',\n  },\n  '72%': {\n    transform: 'scale(0.9)',\n  },\n  '100%': {\n    transform: 'scale(1)',\n  },\n});\n\nconst ringScale = keyframes({\n  '0%': {\n    opacity: '1',\n    borderWidth: '0.5em',\n  },\n  '52%': {\n    opacity: '0',\n    borderWidth: '0',\n  },\n});\n\nconst RING = {\n  durationMs: 600,\n  animation: ringScale,\n};\n\nconst ICON = {\n  animation: iconScale,\n  durationMs: 700,\n};\n\nexport const Simple: FC<UpdownButtonTemplateComponentProps> = ({\n  isLoading,\n  userVoteDirection,\n  totalScore,\n  handlePressUp,\n  handlePressDown,\n  isCounterVisible,\n}) => {\n  const [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n  const [animationActiveDown, setAnimationActiveDown] = useState<boolean>(\n    false\n  );\n\n  const handleClickUp = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      handlePressUp(e);\n\n      if (userVoteDirection !== 1) {\n        setAnimationActiveUp(true);\n        setTimeout(() => setAnimationActiveUp(false), ICON.durationMs);\n      }\n    },\n    [userVoteDirection, handlePressUp]\n  );\n\n  const handleClickDown = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      handlePressDown(e);\n\n      if (userVoteDirection !== -1) {\n        setAnimationActiveDown(true);\n        setTimeout(() => setAnimationActiveDown(false), ICON.durationMs);\n      }\n    },\n    [userVoteDirection, handlePressDown]\n  );\n\n  const iconStyleUp = {\n    ...style.icon,\n    ...{\n      animation: animationActiveUp\n        ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  const iconStyleDown = {\n    ...style.icon,\n    ...{\n      animation: animationActiveDown\n        ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  const ringStyleUp = {\n    ...style.ring,\n    ...{\n      animation: animationActiveUp\n        ? `${RING.animation} ${RING.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  const ringStyleDown = {\n    ...style.ring,\n    ...{\n      animation: animationActiveDown\n        ? `${RING.animation} ${RING.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div sx={style.root}>\n        <button\n          onClick={handleClickUp}\n          disabled={isLoading}\n          sx={{\n            ...style.button,\n            ...{\n              variant:\n                userVoteDirection === 1\n                  ? 'buttons.upActive'\n                  : 'buttons.upInactive',\n              '@media (hover: hover)': {\n                ':hover': {\n                  variant: 'buttons.upActive',\n                },\n              },\n            },\n          }}\n        >\n          <div sx={ringStyleUp} />\n          <ThumbIcon sx={iconStyleUp} />\n        </button>\n        {isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n        {isLoading && <div sx={style.counter}>-</div>}\n        <button\n          onClick={handleClickDown}\n          disabled={isLoading}\n          sx={{\n            ...style.button,\n            ...{\n              transform: 'rotate(180deg)',\n              variant:\n                userVoteDirection === -1\n                  ? 'buttons.downActive'\n                  : 'buttons.downInactive',\n              '@media (hover: hover)': {\n                ':hover': {\n                  variant: 'buttons.downActive',\n                },\n              },\n            },\n          }}\n        >\n          <div sx={ringStyleDown} />\n          <ThumbIcon sx={iconStyleDown} />\n        </button>\n      </div>\n    </ThemeProvider>\n  );\n};\n","import React from 'react';\n\ninterface Props {\n  className?: string;\n}\n\nexport const RedditArrow = ({ className }: Props) => (\n  <svg\n    version=\"1.0\"\n    viewBox=\"0 0 1280 1280\"\n    className={className}\n    preserveAspectRatio=\"xMidYMid meet\"\n  >\n    <g transform=\"translate(0,1280) scale(0.100000,-0.100000)\" stroke=\"none\">\n      <path\n        d=\"M6245 12778 c-200 -44 -333 -117 -494 -272 -53 -51 -1149 -1102\n  -2436 -2336 -3028 -2904 -3071 -2945 -3122 -3010 -133 -170 -219 -465 -183\n  -629 35 -159 45 -192 80 -267 50 -109 104 -185 187 -265 83 -81 140 -119 246\n  -169 175 -81 33 -74 1677 -77 1359 -3 1466 -4 1478 -20 9 -13 12 -527 12\n  -2487 0 -2658 -2 -2524 50 -2663 84 -226 259 -410 479 -503 40 -17 123 -42\n  184 -56 l112 -24 1905 3 c1897 2 1905 2 1995 23 173 41 319 120 439 238 104\n  102 171 212 222 366 l29 85 5 2507 c3 1701 8 2510 15 2517 7 7 487 12 1475 13\n  1644 4 1502 -3 1677 78 104 48 161 88 247 169 137 131 213 277 256 491 25 119\n  25 151 0 270 -32 159 -75 262 -155 375 -53 75 -26 49 -3010 2910 -1353 1297\n  -2506 2402 -2561 2456 -169 163 -299 234 -509 278 -119 25 -181 25 -300 -1z\"\n      />\n    </g>\n  </svg>\n);\n","import { ThemeUIStyleObject } from 'theme-ui';\n\nexport const style: Record<string, ThemeUIStyleObject> = {\n  root: {\n    color: 'inherit',\n    fontFamily: 'inherit',\n    display: 'inline-flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n  },\n  counter: {\n    mt: '.2em',\n    mb: '.2em',\n    minWidth: '2em',\n    textAlign: 'center',\n  },\n  icon: {\n    height: '1em',\n    display: 'block',\n    margin: '0 auto',\n    animationTimingFunction: 'cubic-bezier(0.280, 0.840, 0.420, 1)',\n  },\n  button: {\n    border: 'none',\n    outline: 'none',\n    cursor: 'pointer',\n    background: 'transparent',\n    appearance: 'none',\n    position: 'relative',\n    fontSize: 'inherit',\n    borderRadius: '3px',\n    transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    width: '2em',\n    height: '2em',\n    padding: '0',\n    lineHeight: '1em',\n  },\n};\n","export default {\n  colors: {\n    lightGray: '#25252510',\n    darkGray: '#878a8c',\n    blue: '#5a75cc',\n    red: '#cc3700',\n  },\n  buttons: {\n    downInactive: {\n      svg: {\n        fill: 'darkGray',\n      },\n    },\n    upInactive: {\n      svg: {\n        fill: 'darkGray',\n      },\n    },\n    upActive: {\n      backgroundColor: 'lightGray',\n      svg: {\n        fill: 'red',\n      },\n    },\n    downActive: {\n      backgroundColor: 'lightGray',\n      svg: {\n        fill: 'blue',\n      },\n    },\n  },\n};\n","/* @jsx jsx */\n\nimport { jsx, ThemeProvider } from 'theme-ui';\nimport { UpdownButtonTemplateComponentProps } from '../..';\nimport { RedditArrow } from './icons/RedditArrow';\nimport { keyframes } from '@emotion/core';\nimport { FC, useCallback, useState } from 'react';\nimport { style } from './style';\nimport theme from './theme';\n\nconst iconScale = keyframes({\n  '0%': {\n    transform: 'scale(0)',\n  },\n  '52%': {\n    transform: 'scale(1.2)',\n  },\n  '72%': {\n    transform: 'scale(0.9)',\n  },\n  '100%': {\n    transform: 'scale(1)',\n  },\n});\n\nconst ICON = {\n  animation: iconScale,\n  durationMs: 700,\n};\n\nexport const Reddit: FC<UpdownButtonTemplateComponentProps> = ({\n  isLoading,\n  userVoteDirection,\n  totalScore,\n  handlePressUp,\n  handlePressDown,\n  isCounterVisible,\n}) => {\n  const [animationActiveUp, setAnimationActiveUp] = useState<boolean>(false);\n  const [animationActiveDown, setAnimationActiveDown] = useState<boolean>(\n    false\n  );\n\n  const handleClickUp = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      handlePressUp(e);\n\n      if (userVoteDirection !== 1) {\n        setAnimationActiveUp(true);\n        setTimeout(() => setAnimationActiveUp(false), ICON.durationMs);\n      }\n    },\n    [userVoteDirection, handlePressUp]\n  );\n\n  const handleClickDown = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      handlePressDown(e);\n\n      if (userVoteDirection !== -1) {\n        setAnimationActiveDown(true);\n        setTimeout(() => setAnimationActiveDown(false), ICON.durationMs);\n      }\n    },\n    [userVoteDirection, handlePressDown]\n  );\n\n  const iconStyleUp = {\n    ...style.icon,\n    ...{\n      animation: animationActiveUp\n        ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  const iconStyleDown = {\n    ...style.icon,\n    ...{\n      animation: animationActiveDown\n        ? `${ICON.animation} ${ICON.durationMs}ms ease forwards`\n        : null,\n    },\n  };\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div sx={style.root}>\n        <button\n          onClick={handleClickUp}\n          disabled={isLoading}\n          sx={{\n            ...style.button,\n            ...{\n              variant:\n                userVoteDirection === 1\n                  ? 'buttons.upActive'\n                  : 'buttons.upInactive',\n              '@media (hover: hover)': {\n                ':hover': {\n                  variant: 'buttons.upActive',\n                  transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n                },\n              },\n            },\n          }}\n        >\n          <RedditArrow sx={iconStyleUp} />\n        </button>\n        {isCounterVisible && <div sx={style.counter}>{totalScore}</div>}\n        {isLoading && <div sx={style.counter}>-</div>}\n        <button\n          onClick={handleClickDown}\n          disabled={isLoading}\n          sx={{\n            ...style.button,\n            ...{\n              transform: 'rotate(180deg)',\n              variant:\n                userVoteDirection === -1\n                  ? 'buttons.downActive'\n                  : 'buttons.downInactive',\n              '@media (hover: hover)': {\n                ':hover': {\n                  variant: 'buttons.downActive',\n                  transition: 'all 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n                },\n              },\n            },\n          }}\n        >\n          <RedditArrow sx={iconStyleDown} />\n        </button>\n      </div>\n    </ThemeProvider>\n  );\n};\n","import React, { FC, useCallback, useContext, useState } from 'react';\nimport { ClientContext } from '../contexts/ClientContext';\nimport { useSafeEffect } from '../hooks/useSafeEffect';\nimport { Simple } from './templates/Simple';\nimport { Reddit } from './templates/Reddit';\nimport { camelizeKeys } from 'humps';\n\nconst templates = {\n  Simple,\n  Reddit,\n};\n\nexport interface UpdownButtonTemplateComponentProps {\n  isLoading: boolean;\n  userVoteDirection: number | undefined;\n  totalScore: number | undefined;\n  handlePressUp: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  handlePressDown: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  isCounterVisible: boolean;\n}\n\ntype CallbackProps = Components.Schemas.UpdownButton['data'];\n\nexport interface UpdownButtonProps {\n  id: string;\n  namespace?: string;\n  hideCounterIfLessThan?: number;\n  onLoad?: (props: CallbackProps) => void;\n  onPressUp?: (props: CallbackProps) => void;\n  onPressDown?: (props: CallbackProps) => void;\n  children?: (\n    props: UpdownButtonTemplateComponentProps\n  ) => React.ReactElement<any, any> | null;\n  component?: React.ComponentType<UpdownButtonTemplateComponentProps>;\n}\n\ntype FCWithTemplates<Props> = FC<Props> & {\n  templates: {\n    Simple: React.ComponentType<UpdownButtonTemplateComponentProps>;\n    Reddit: React.ComponentType<UpdownButtonTemplateComponentProps>;\n  };\n};\n\nconst UpdownButton: FCWithTemplates<UpdownButtonProps> = ({\n  id,\n  namespace,\n  hideCounterIfLessThan,\n  children,\n  component,\n  onLoad,\n  onPressUp,\n  onPressDown,\n}) => {\n  const client = useContext(ClientContext);\n\n  const [response, setResponse] = useState<\n    Components.Schemas.UpdownButton['data'] | null\n  >(null);\n\n  useSafeEffect(async () => {\n    try {\n      if (client) {\n        const result = await client.updownButtons.info({ id, namespace });\n        setResponse(result.data);\n\n        if (onLoad) {\n          onLoad(camelizeKeys(result.data));\n        }\n      }\n    } catch (error) {\n      console.error('Lyket error:', error);\n      throw error;\n    }\n  }, [client, id, namespace, onLoad]);\n\n  const handlePressUp = useCallback(\n    async (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      e.preventDefault();\n\n      try {\n        if (client) {\n          const result = await client.updownButtons.pressUp({\n            id,\n            namespace,\n          });\n          setResponse(result.data);\n\n          if (onPressUp) {\n            onPressUp(camelizeKeys(result.data));\n          }\n        }\n      } catch (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }\n    },\n    [client, id, namespace, onPressUp]\n  );\n\n  const handlePressDown = useCallback(\n    async (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n      e.preventDefault();\n\n      try {\n        if (client) {\n          const result = await client.updownButtons.pressDown({\n            id,\n            namespace,\n          });\n          setResponse(result.data);\n\n          if (onPressDown) {\n            onPressDown(camelizeKeys(result.data));\n          }\n        }\n      } catch (error) {\n        console.error('Lyket error:', error);\n        throw error;\n      }\n    },\n    [client, id, namespace, onPressDown]\n  );\n\n  let isCounterVisible = true;\n\n  if (\n    !response ||\n    (hideCounterIfLessThan &&\n      response &&\n      response.attributes.total_score < hideCounterIfLessThan)\n  ) {\n    isCounterVisible = false;\n  }\n\n  const props = {\n    isLoading: !response,\n    totalScore: (response && response.attributes.total_score) || 0,\n    userVoteDirection:\n      (response && response.attributes.user_vote_direction) || 0,\n    handlePressUp,\n    handlePressDown,\n    isCounterVisible,\n  };\n\n  if (children) {\n    return children(props);\n  }\n\n  const Component = component || Simple;\n\n  return <Component {...props} />;\n};\n\nUpdownButton.templates = templates;\n\nexport { UpdownButton };\n"]},"metadata":{},"sourceType":"script"}