{"ast":null,"code":"import _classCallCheck from\"C:/Users/saylo/Documents/GitHub/ESOF432/comment-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/saylo/Documents/GitHub/ESOF432/comment-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/saylo/Documents/GitHub/ESOF432/comment-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/saylo/Documents/GitHub/ESOF432/comment-frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./index.css';import ReactPlayer from\"react-player\";import Comment from'./Comment';import AddComment from'./AddComment';import ApiService from'./apiService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={comments:[],refinedComments:[],showCreateCommentForm:false};_this.refineComments=function(comments){var c=[];for(var i=0;i<comments.length;i++){if(comments[i].parent_id===null){c.push(comments[i]);}}_this.setState({refinedComments:c});};_this.fetchComments=function(){return _this.apiService.getComments().then(function(_ref){var data=_ref.data;_this.setState({comments:data.comments});_this.refineComments(_this.state.comments);});};_this.storeComment=function(data){_this.apiService.storeComment(data).then(function(){_this.fetchComments();_this.toggleShowCreateCommentForm();});};_this.deleteComment=function(comment_id){_this.apiService.deleteComment(comment_id).then(function(){_this.fetchComments();});};_this.addLike=function(comment_id){_this.apiService.addLike(comment_id).then(function(){_this.fetchComments();});};_this.toggleShowCreateCommentForm=function(){_this.setState({showCreateCommentForm:!_this.state.showCreateCommentForm});};_this.apiService=new ApiService();return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){this.fetchComments();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ReactPlayer,{className:\"vid\",url:\"https://www.youtube.com/watch?v=EL-D9LrFJd4\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-5\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn \".concat(this.state.showCreateCommentForm?'btn-danger':'btn-info'),onClick:this.toggleShowCreateCommentForm,children:this.state.showCreateCommentForm?'Cancel':'Add Comment'})}),this.state.showCreateCommentForm&&/*#__PURE__*/_jsx(AddComment,{storeComment:this.storeComment,users:this.state.users}),this.state.refinedComments.map(function(refinedComments){return/*#__PURE__*/_jsx(Comment,{deleteComment:_this2.deleteComment,addLike:_this2.addLike,refinedComments:refinedComments,fetchComments:_this2.fetchComments},refinedComments.comment_id);})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/saylo/Documents/GitHub/ESOF432/comment-frontend/src/App.js"],"names":["React","Component","ReactPlayer","Comment","AddComment","ApiService","App","props","state","comments","refinedComments","showCreateCommentForm","refineComments","c","i","length","parent_id","push","setState","fetchComments","apiService","getComments","then","data","storeComment","toggleShowCreateCommentForm","deleteComment","comment_id","addLike","users","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './index.css'\nimport ReactPlayer from \"react-player\";\n\nimport Comment from './Comment';\nimport AddComment from './AddComment';\nimport ApiService from './apiService';\n\nclass App extends Component {\n\tstate = {\n\t\tcomments: [],\n    refinedComments: [],\n\t\tshowCreateCommentForm: false\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.apiService = new ApiService();\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.fetchComments();\n\n\t}\n\n  refineComments = (comments) => {\n\n    var c = []\n\n\t  for(let i=0; i < comments.length; i++)\n    {\n      if(comments[i].parent_id === null)\n      {\n        c.push(comments[i])\n      }\n    }\n\n\t  this.setState({refinedComments: c})\n\n  }\n\n\tfetchComments = () =>\n\t\tthis.apiService.getComments().then(({ data }) => {\n\t\t\tthis.setState({\n        comments: data.comments\n\t\t\t});\n      this.refineComments(this.state.comments)\n    });\n\n  storeComment = (data) => {\n    this.apiService.storeComment(data)\n      .then(() => {\n        this.fetchComments()\n        this.toggleShowCreateCommentForm()\n      })\n  }\n\n  deleteComment = (comment_id) => {\n    this.apiService.deleteComment(comment_id)\n      .then(() => {\n        this.fetchComments()\n      })\n  }\n\n  addLike = (comment_id) => {\n    this.apiService.addLike(comment_id)\n      .then(() => {\n        this.fetchComments()\n      })\n  }\n\n\n\ttoggleShowCreateCommentForm = () => {\n\t\tthis.setState({\n\t\t\tshowCreateCommentForm: !this.state.showCreateCommentForm\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"container\">\n        <br/>\n        \t<ReactPlayer className={\"vid\"} url=\"https://www.youtube.com/watch?v=EL-D9LrFJd4\"/>\n        <br/>\n\t\t\t\t<div className=\"text-center mb-5\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`btn ${this.state.showCreateCommentForm ? 'btn-danger' : 'btn-info'}`}\n\t\t\t\t\t\tonClick={this.toggleShowCreateCommentForm}>\n\t\t\t\t\t\t{this.state.showCreateCommentForm ? 'Cancel' : 'Add Comment'}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t{this.state.showCreateCommentForm && <AddComment storeComment={this.storeComment} users={this.state.users} />}\n\t\t\t\t{this.state.refinedComments.map((refinedComments) => <Comment deleteComment={this.deleteComment} addLike={this.addLike} refinedComments={refinedComments} fetchComments={this.fetchComments} key={refinedComments.comment_id}/>)}\n\t\t\t</div>\n\t\t);\n\t}\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}